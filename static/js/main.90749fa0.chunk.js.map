{"version":3,"sources":["App.module.css","components/Graf.module.css","utils/math.js","utils/grid.js","utils/GridClass.js","utils/Scene.js","components/Graf.jsx","components/TabView.jsx","components/TabFunction.jsx","components/GridListItem.jsx","components/TabGrid.jsx","components/SliderListItem.jsx","components/TabParams.jsx","components/Sidebar.jsx","App.js","serviceWorker.js","index.js","components/Sidebar.module.css","components/ColorPicker.module.css"],"names":["module","exports","math","create","all","m","import","Sum","bigSigma","S","sigma","Sigma","Product","bigPi","product","P","switch","switchF","interp","interpolate","rotate4d","args","scope","str","map","arg","toString","ind","a","b","expr","s","exprCompiled","compile","number","evaluate","i","plus","add","p","multiply","x","complex","im","re","y","t","z","phi","exp","rawArgs","subtract","calculateLine","x1","x2","nPoints","f","xx","yy","Math","round","dx","push","calculateCircle","center","radius","pi","cos","sin","Grid","dataObjInit2d","name","line","color","mode","type","dataObjInit3d","params","nh","nv","angle","space","psPerSpace","revision","data2d","data3d","plt2d","plt3d","this","component3","fParametric","id","error","zAxis","console","log","height","width","nLinesH","nLinesV","gridType","lines","w","h","psPerLine","nPointsv","nPointsh","dv","dh","ang1","ang2","v1","v2","h1","h2","line1","info","max","min","abs","calculateGrid","r","nPointsr","nPointsc","ii","calculateGridPolar","from","to","stepSize","diff","calculateParametric","fromParametric","toParametric","stepSizeParametric","globalInfo","active","undefined","linesToData3d","linesToData2d","newData","forEach","addLineToData2d","v","data","base","e","text","format","hovertemplate","opacity","addLineToData3d","c","isZDefined","cmin","cmax","colorscale","hybrid","hoverinfo","Scene","gridParams","grids","g","setPlot","gP","f1","err","funct","fCompiled","functParametric","fCompiled1","message","grid","index","findIndex","GridClass","refresh","recalculate","recaluclateLimitInfo","start","get3dAxesInfo","redraw","limitInfo","concat","update","ax","temp","baseIdZ","rangeZ","rangeX","rangeY","aspectratio","aspectmode","zaxis_title","getZAxisLabel","layout","lengthX","xaxis","range","lengthY","yaxis","getZRange","a3dAxesInfo","lengthXY","zMin","zMax","xfx","filter","layoutInit2d","title","autosize","uirevision","showlegend","hovermode","dragmode","margin","l","pad","tickfont","zerolinecolor","scaleanchor","ticksuffix","configInit","responsive","scrollZoom","displayModeBar","displaylogo","modeBarButtonsToRemove","toImageButtonOptions","filename","scale","layoutInit3d","nticks","scene","zaxis","camera","eye","Graf","useState","config","setPlt2d","setPlt3d","useEffect","newLayout","update2d","figure","update3d","className","styles","key","style","useResizeHandler","onInitialized","onUpdate","TabView","onInput","baseIdHeight","setBaseIdHeight","change3dOptions","event","option","which","target","selected","value","isNaN","startsWith","set3dOptions","setColorAuto","label","formGroup","htmlFor","onChange","dimensionsSelector","dimensionsSelectorItem","dimensionsSelectorItemSelected","onClick","viewOptions","onKeyDown","blur","onBlur","setColormapOptions","TabFunction","fList","list","idNew","textNew","changeList","handleChange","newList","handleKeyDown","handleFuncChange","handleBlur","change","func","inactive","functionList","functionListItem","functionListItemNew","placeholder","functionListItemError","functionListItemInactive","GridListItem","changeCount","setChangeCount","showPicker","setShowPicker","setColor","handleTypeChange","listItem","listItemError","gridTopMenu","gridTopMenuItem","gridTopMenuVisibility","gridTopMenuRight","cpStyles","popover","cover","clr","rgb","gridTypeSelector","gridTypeSelectorItem","gridTypeSelectorItemSelected","flippedIcon","formGroupWide","TabGrid","gridList","newButton","SliderListItem","slider","checkValidName","setError","sliderName","sliderValue","getParam","sliderHead","sliderContainer","left","Number","step","right","test","length","TabParams","sliders","Sidebar","selectedTab","setSelectedTab","sidebar","menu","menuContainer","menuItem","menuItemSelected","content","scopeInit","newGridTemplate","App","setFList","nextId","setSliders","lastSliderChangeRev","setLastSliderChangeRev","setGridParams","setMode","setComponent3","setRevision","rev2","action","newComp3","recalculateSpecific","newId","newGrid","delete","slice","newSlider","curRev","setTimeout","rev","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"6FACAA,EAAOC,QAAU,CAAC,IAAM,mB,oBCAxBD,EAAOC,QAAU,CAAC,KAAO,qB,uNCCnBC,EAAOC,YAAOC,IADD,IAINC,GAITH,EAAKI,OAAO,CACRC,IAAKC,EACLC,EAAGD,EACHE,MAAOF,EACPG,MAAOH,EACPI,QAASC,EACTC,QAASD,EACTE,EAAGF,EACHG,OAAQC,EACRC,OAAQA,EACRC,YAAaD,EACbE,SAAUA,IAEPlB,GAIX,SAASM,EAASa,EAAMnB,EAAMoB,GAC1B,IAAMC,EAAMF,EAAKG,KAAI,SAAUC,GAC7B,OAAOA,EAAIC,cAFoB,cAITH,EAJS,GAI5BI,EAJ4B,KAIvBC,EAJuB,KAIpBC,EAJoB,KAIjBC,EAJiB,KAM7BC,EAAI,EACJC,EAAe9B,EAAK+B,QAAQH,GAEhCF,EAAI1B,EAAKgC,OAAOhC,EAAKiC,SAASP,EAAGN,IACjCO,EAAI3B,EAAKgC,OAAOhC,EAAKiC,SAASN,EAAGP,IAEjC,IAAI,IAAIc,EAAIR,EAAGQ,GAAKP,EAAGO,IAAK,CAC1B,IAAIC,EAAOL,EAAaG,SAAb,eAA0Bb,EAA1B,eAAkCK,EAAMS,KACnDL,EAAI7B,EAAKoC,IAAIP,EAAGM,GAElB,OAAON,EAKT,SAASlB,EAAMQ,EAAMnB,EAAMoB,GACzB,IAAMC,EAAMF,EAAKG,KAAI,SAAUC,GAC7B,OAAOA,EAAIC,cAFmB,cAIRH,EAJQ,GAI3BI,EAJ2B,KAItBC,EAJsB,KAInBC,EAJmB,KAIhBC,EAJgB,KAM5BS,EAAI,EACJP,EAAe9B,EAAK+B,QAAQH,GAEhCF,EAAI1B,EAAKgC,OAAOhC,EAAKiC,SAASP,EAAGN,IACjCO,EAAI3B,EAAKgC,OAAOhC,EAAKiC,SAASN,EAAGP,IAEjC,IAAI,IAAIc,EAAIR,EAAGQ,GAAKP,EAAGO,IAAK,CAC1B,IAAIC,EAAOL,EAAaG,SAAb,eAA0Bb,EAA1B,eAAkCK,EAAMS,KACnDG,EAAIrC,EAAKsC,SAASD,EAAGF,GAEvB,OAAOE,EAIT,SAAStB,EAAQwB,GACf,OAAOvC,EAAKwC,QAAQD,EAAEE,GAAIF,EAAEG,IAG9B,SAAS1B,EAAOuB,EAAGI,EAAGC,GACpB,OAAO5C,EAAKoC,IAAIpC,EAAKsC,SAASC,EAAG,EAAEK,GAAI5C,EAAKsC,SAASK,EAAGC,IAE1D,SAAS1B,EAAS2B,EAAGC,GACnB,OAAO9C,EAAKsC,SAASO,EAAG7C,EAAK+C,IAAI/C,EAAKwC,QAAQ,EAAGM,KA/BnDxC,EAAS0C,SAAU,EAqBnBrC,EAAMqC,SAAU,E,oBC7DXR,EAAyCrC,EAAzCqC,QAASJ,EAAgCjC,EAAhCiC,IAAKa,EAA2B9C,EAA3B8C,SAAUX,EAAiBnC,EAAjBmC,SAAUS,EAAO5C,EAAP4C,IA+ClC,SAASG,EAAcC,EAAIC,EAAIC,EAASC,GAC9C,IAAMC,EAAK,GACLC,EAAK,GAEXH,EAAUI,KAAKC,MAAML,GAIrB,IAFA,IAAMM,EAAKrB,EAASW,EAASG,EAAID,GAAK,GAAKE,EAAQ,IAE1CnB,EAAI,EAAGA,EAAImB,EAASnB,IAAK,CACjC,IAAIK,EAAIH,EAAIe,EAAIb,EAASqB,EAAIzB,IACzBS,EAAIW,EAAEf,GACVgB,EAAGK,KAAKrB,GACRiB,EAAGI,KAAKjB,GAET,MAAO,CAACY,EAAIC,GAGN,SAASK,EAAgBC,EAAQC,EAAQV,EAASC,GAMxD,IALA,IAAMC,EAAK,GACLC,EAAK,GAELV,EAAM,EAAG3C,EAAE6D,GAAGX,EAEXnB,EAAI,EAAGA,GAAKmB,EAAQ,EAAGnB,IAAK,CACpC,IAAIK,EAAIH,EAAI0B,EAAQtB,EAAQuB,EAAO5D,EAAE8D,IAAI/B,EAAEY,GAAMiB,EAAO5D,EAAE+D,IAAIhC,EAAEY,KAC5DH,EAAIW,EAAEf,GACVgB,EAAGK,KAAKrB,GACRiB,EAAGI,KAAKjB,GAET,MAAO,CAACY,EAAIC,GC7Eb,IACMxD,EAAOC,YAAOC,IADD,IAMEiE,E,iDAEpBC,cAAgB,CACfC,KAAM,GACNC,KAAM,CACLC,MAAO,2BAERC,KAAM,QACNC,KAAM,W,KAEPC,cAAgB,CACfL,KAAM,GACNC,KAAM,CACLC,MAAO,2BAERC,KAAM,QACNC,KAAM,a,KAOPE,OAAS,CAAEb,OAAQ,EAAGc,GAAI,EAAGC,GAAI,EAAGC,MAAO,EAAGC,MAAO,EAAGC,WAAY,EAAGT,OAAO,G,KAO9EU,SAAW,E,KAKXC,OAAS,G,KACTC,OAAS,G,oDAEDC,EAAOC,GACdC,KAAKF,MAAQA,EACbE,KAAKD,MAAQA,I,8BAGNV,EAAQY,EAAYjC,EAAGkC,GAC9BF,KAAKX,OAAL,eAAmBA,EAAO,GAA1B,GAAiCA,EAAO,IACxCW,KAAKG,GAAKd,EAAO,GACjBW,KAAKI,MAAQf,EAAO,GAEpBW,KAAKhC,EAAIA,EACTgC,KAAKE,YAAcA,EAGkB,SAAjCF,KAAKX,OAAOY,WAAWI,MAC1BL,KAAKC,WAAL,eAAuBA,GAEvBD,KAAKC,WAAL,eAAuBD,KAAKX,OAAOY,YAGN,SAA1BD,KAAKC,WAAWhB,QACW,OAA1Be,KAAKC,WAAWI,MACnBL,KAAKC,WAAWhB,MAAQ,KACY,OAA1Be,KAAKC,WAAWI,MAC1BL,KAAKC,WAAWhB,MAAQ,KACY,QAA1Be,KAAKC,WAAWI,MAC1BL,KAAKC,WAAWhB,MAAQ,MACY,QAA1Be,KAAKC,WAAWI,QAC1BL,KAAKC,WAAWhB,MAAQ,QAI1Be,KAAKL,a,oCAKLW,QAAQC,IAAR,UAAeP,KAAKG,GAApB,qBACA,IAAIK,EAAgC,MAAvBR,KAAKX,OAAOmB,OAAiBR,KAAKX,OAAOoB,MAAQT,KAAKX,OAAOmB,OACtEE,EAAkC,MAAxBV,KAAKX,OAAOqB,QAAkBV,KAAKX,OAAOsB,QAAUX,KAAKX,OAAOqB,QACjD,cAAzBV,KAAKX,OAAOuB,SACfZ,KAAKa,MDLD,SAAuBrC,EAAQsC,EAAGC,EAAGvB,EAAOmB,EAASD,EAASM,EAAWhD,GAC/E,IAAM6C,EAAQ,CAAC,GAAI,IAEfI,EAAuB,EAAZD,EAAcD,GAAGD,EAAEC,GAC9BG,EAAuB,EAAZF,EAAcF,GAAGA,EAAEC,GAE9BI,EAAKJ,GAAGL,EAAQ,GACL,GAAXA,IACHS,EAAK,GAEN,IAAIC,EAAKN,GAAGH,EAAQ,GACL,GAAXA,IACHS,EAAK,GAYN,IAVA,IAAMC,EAAO5D,EAAIT,EAASE,EAAQ,EAAG,GAAIsC,IACnC8B,EAAO7D,EAAIT,EAASE,EAAQ,EAAG,GAAIsC,EAAQ3E,EAAE6D,GAAK,IAElD6C,EAAK5D,EAASa,EAAQxB,EAAS+D,EAAE,EAAGO,IACpCE,EAAK1E,EAAI0B,EAAQxB,EAAS+D,EAAE,EAAGO,IAE/BG,EAAK9D,EAASa,EAAQxB,EAAS8D,EAAE,EAAGO,IACpCK,EAAK5E,EAAI0B,EAAQxB,EAAS8D,EAAE,EAAGO,IAG5BzE,IAAM+D,EAAQ,GAAG,EAAG/D,IAAM+D,EAAQ,GAAG,EAAG/D,IAAK,CACrD,IAAI+E,EAAQ/D,EAAcd,EAAIyE,EAAIvE,EAASJ,EAAIwE,EAAIC,IAClDvE,EAAI0E,EAAIxE,EAASJ,EAAIwE,EAAIC,IAAQJ,EAAUjD,GAC5C6C,EAAM,GAAGvC,KAAKqD,GAGf,IAAK,IAAI/E,IAAM8D,EAAQ,GAAG,EAAG9D,IAAM8D,EAAQ,GAAG,EAAG9D,IAAK,CACrD,IAAI+E,EAAQ/D,EAAcd,EAAI2E,EAAIzE,EAASJ,EAAIuE,EAAIG,IAClDxE,EAAI4E,EAAI1E,EAASJ,EAAIuE,EAAIG,IAAQJ,EAAUlD,GAC5C6C,EAAM,GAAGvC,KAAKqD,GAGf,IAAIC,EAAO,CACVxE,GAAI,CACHyE,IAAK1D,KAAK0D,IAAI/E,EAAIyE,EAAIvE,GAAU8D,EAAE,EAAGO,IAAOjE,GAC3CN,EAAIyE,EAAIvE,EAAS8D,EAAE,EAAGO,IAAOjE,GAC7BN,EAAI0E,EAAIxE,GAAU8D,EAAE,EAAGO,IAAOjE,GAC9BN,EAAI0E,EAAIxE,EAAS8D,EAAE,EAAGO,IAAOjE,IAC9B0E,IAAK3D,KAAK2D,IAAIhF,EAAIyE,EAAIvE,GAAU8D,EAAE,EAAGO,IAAOjE,GAC5CN,EAAIyE,EAAIvE,EAAS8D,EAAE,EAAGO,IAAOjE,GAC7BN,EAAI0E,EAAIxE,GAAU8D,EAAE,EAAGO,IAAOjE,GAC9BN,EAAI0E,EAAIxE,EAAS8D,EAAE,EAAGO,IAAOjE,KAE9BD,GAAI,CACH0E,IAAK1D,KAAK0D,IAAI/E,EAAIyE,EAAIvE,GAAU8D,EAAE,EAAGO,IAAOlE,GAC3CL,EAAIyE,EAAIvE,EAAS8D,EAAE,EAAGO,IAAOlE,GAC7BL,EAAI0E,EAAIxE,GAAU8D,EAAE,EAAGO,IAAOlE,GAC9BL,EAAI0E,EAAIxE,EAAS8D,EAAE,EAAGO,IAAOlE,IAC9B2E,IAAK3D,KAAK2D,IAAIhF,EAAIyE,EAAIvE,GAAU8D,EAAE,EAAGO,IAAOlE,GAC3CL,EAAIyE,EAAIvE,EAAS8D,EAAE,EAAGO,IAAOlE,GAC7BL,EAAI0E,EAAIxE,GAAU8D,EAAE,EAAGO,IAAOlE,GAC9BL,EAAI0E,EAAIxE,EAAS8D,EAAE,EAAGO,IAAOlE,KAE/B4E,IAAK,CACJF,IAAK1D,KAAK0D,IAAIhH,EAAEkH,IAAIjF,EAAIyE,EAAIvE,GAAU8D,EAAE,EAAGO,KAC1CxG,EAAEkH,IAAIjF,EAAIyE,EAAIvE,EAAS8D,EAAE,EAAGO,KAC5BxG,EAAEkH,IAAIjF,EAAI0E,EAAIxE,GAAU8D,EAAE,EAAGO,KAC7BxG,EAAEkH,IAAIjF,EAAI0E,EAAIxE,EAAS8D,EAAE,EAAGO,MAC7BS,IAAK3D,KAAK2D,IAAI,EAAGjH,EAAEkH,IAAIjF,EAAIyE,EAAIvE,GAAU8D,EAAE,EAAGO,KAC7CxG,EAAEkH,IAAIjF,EAAIyE,EAAIvE,EAAS8D,EAAE,EAAGO,KAC5BxG,EAAEkH,IAAIjF,EAAI0E,EAAIxE,GAAU8D,EAAE,EAAGO,KAC7BxG,EAAEkH,IAAIjF,EAAI0E,EAAIxE,EAAS8D,EAAE,EAAGO,QAK/B,OADAR,EAAMvC,KAAKsD,GACJf,ECjEQmB,CAAchC,KAAKX,OAAOb,OAAQwB,KAAKX,OAAOoB,MAAOD,EAAQR,KAAKX,OAAOG,MAAOQ,KAAKX,OAAOsB,QAASD,EAASV,KAAKX,OAAO2B,UAAWhB,KAAKhC,GACpH,UAAzBgC,KAAKX,OAAOuB,SACtBZ,KAAKa,MDoED,SAA4BrC,EAAQsC,EAAGC,EAAGvB,EAAOmB,EAASD,EAASM,EAAWhD,GACpF,IAAM6C,EAAQ,CAAC,GAAI,IAEfoB,EAAInB,EAEJoB,EAAWlB,EAEXmB,EAAW,EACXxB,EAAU,IACbwB,EAAuB,EAAZnB,EAAgBnG,EAAE6D,GAAKiC,GAOnC,IAHA,IAAMnD,EAAO,EAAE3C,EAAE6D,GAAKgC,EAChB0B,EAAKlF,EAAQ,EAAG,GAEbN,EAAI,EAAGA,EAAI8D,EAAS9D,IAAK,CACjC,IAAI+E,EAAQ/D,EAAcY,EACzB1B,EAAI0B,EAAQxB,EAASiF,EAAGxE,EAAIT,EAASoF,EAAI5E,EAAIZ,EAAE4C,MAAW0C,EAAUlE,GACrE6C,EAAM,GAAGvC,KAAKqD,GAGf,IAAIA,EAAQpD,EAAgBC,EAAesC,EAAEH,EAAT,KAA4B,IAATwB,EAAenE,GACtE6C,EAAM,GAAGvC,KAAKqD,GAEd,IAAK,IAAI/E,EAAI,EAAGA,EAAI+D,EAAQ,EAAG/D,IAAK,CACnC,IAAI+E,EAAQpD,EAAgBC,EAAQ5B,EAAEqF,EAAEtB,EAASwB,EAASvF,EAAGoB,GAC7D6C,EAAM,GAAGvC,KAAKqD,GAIf,IAAIC,EAAO,CACVxE,GAAI,CACHyE,IAAKhH,EAAEiC,IAAI0B,EAAQtB,EAAQ+E,EAAG,IAAI7E,GAClC0E,IAAKjH,EAAE8C,SAASa,EAAQtB,EAAQ+E,EAAG,IAAI7E,IAExCD,GAAI,CACH0E,IAAKhH,EAAEiC,IAAI0B,EAAQtB,EAAQ,EAAG+E,IAAI9E,GAClC2E,IAAKjH,EAAE8C,SAASa,EAAQtB,EAAQ,EAAG+E,IAAI9E,IAExC4E,IAAK,CACJF,IAAKhH,EAAEkH,IAAIvD,GAAW3D,EAAEkH,IAAIE,GAC5BH,IAAK3D,KAAK0D,IAAI,EAAGhH,EAAEkH,IAAIvD,GAAW3D,EAAEkH,IAAIE,MAK1C,OADApB,EAAMvC,KAAKsD,GACJf,ECnHQwB,CAAmBrC,KAAKX,OAAOb,OAAQwB,KAAKX,OAAOoB,MAAOD,EAAQR,KAAKX,OAAOG,MAAOQ,KAAKX,OAAOsB,QAASD,EAASV,KAAKX,OAAO2B,UAAWhB,KAAKhC,GAC1H,eAAzBgC,KAAKX,OAAOuB,WACrBZ,KAAKa,MDtFD,SAA6ByB,EAAMC,EAAIC,EAAUxE,EAAGkC,GAC1D,IAAMW,EAAQ,CAAC,GAAI,IAEf4B,EAAQF,EAAKD,EAAQ,EAOT,GAAZE,IACHA,EAAWC,EAAK,KAKjB,IAFA,IAAMxE,EAAK,GACLC,EAAK,GACFtB,EAAI0F,EAAM1F,GAAK2F,EAAI3F,GAAI4F,EAAU,CACzC,IAAIvF,EAAIiD,EAAYrF,EAAEqC,QAAQN,IAC1BS,EAAIW,EAAEf,GACVgB,EAAGK,KAAKrB,GACRiB,EAAGI,KAAKjB,GAETwD,EAAM,GAAGvC,KAAK,CAACL,EAAIC,IAEnB,IAAI0D,EAAO,CACVxE,GAAI,CACHyE,IAAK1D,KAAK0D,IAAIS,EAAMC,GACpBT,IAAK3D,KAAK2D,IAAIQ,EAAMC,IAErBpF,GAAI,CACH0E,IAAK,EACLC,IAAK,GAENC,IAAK,CACJF,IAAK1D,KAAK0D,IAAIhH,EAAEkH,IAAIO,GACnBzH,EAAEkH,IAAIQ,IACPT,IAAK3D,KAAK2D,IAAI,EAAGjH,EAAEkH,IAAIO,GACtBzH,EAAEkH,IAAIQ,MAKT,OADA1B,EAAMvC,KAAKsD,GACJf,EC4CQ6B,CAAoB1C,KAAKX,OAAOsD,eAAgB3C,KAAKX,OAAOuD,aAAc5C,KAAKX,OAAOwD,mBAAoB7C,KAAKhC,EAAGgC,KAAKE,cAErIF,KAAK4B,KAAO5B,KAAKa,MAAM,K,6BAGjB3B,EAAM4D,GACZ,GAAI9C,KAAKX,OAAO0D,OAAQ,CAGvB,GAFAzC,QAAQC,IAAR,UAAeP,KAAKG,GAApB,yBAAuCjB,IAE1B,OAATA,QAA+B8D,GAAdhD,KAAKF,MAGzB,OAFAE,KAAKH,OAASG,KAAKiD,cAAcH,GACjC9C,KAAKd,KAAOA,EACLc,KAAKH,OAEN,GAAa,OAATX,EAGV,OAFAc,KAAKJ,OAASI,KAAKkD,gBACnBlD,KAAKd,KAAOA,EACLc,KAAKJ,OAGd,MAAO,K,sCAIS,IAAD,OACXuD,EAAU,GAOd,OANAnD,KAAKa,MAAM,GAAGuC,SAAQ,SAACpE,GACtB,EAAKqE,gBAAgBF,EAASnE,EAAM,KAAM,EAAKK,OAAOJ,MAAM8B,MAE7Df,KAAKa,MAAM,GAAGuC,SAAQ,SAACpE,GACtB,EAAKqE,gBAAgBF,EAASnE,EAAM,IAAK,EAAKK,OAAOJ,MAAMqE,MAErDH,I,sCAGQI,EAAMvE,EAAMD,EAAME,GACjC,IAAIhB,EAAIC,EACR,GAA6B,OAAzB8B,KAAKC,WAAWuD,KAAe,CAAC,IAAD,cACvBxE,EADuB,GACjCf,EADiC,KAC7BC,EAD6B,SAE5B,CAAC,IAAD,cACKc,EADL,GACLd,EADK,KACDD,EADC,KAIP,IAAIhB,EAAIiB,EAAGlC,KAAI,SAACyH,GAAD,OAAOA,EAAErG,MACpBC,EAAIa,EAAGlC,KAAI,SAACyH,GAAD,OAAOA,EAAEtG,MACpBuG,EAAOzF,EAAGjC,KAAI,SAACyH,EAAG7G,GAAJ,mBAAgBlC,EAAKiJ,OAAOF,EAAG,GAA/B,oBAA6C/I,EAAKiJ,OAAOzF,EAAGtB,GAAI,GAAhE,WAElB2G,EAAKjF,KAAL,eACI0B,KAAKlB,cADT,CACwBC,OAAM9B,IAAGI,IAAGuG,cAAeF,EAClDG,QAAS7D,KAAKX,OAAOJ,MAAM4E,QAC3B7E,KAAM,CACLC,MAAOA,EACPwB,MAAOT,KAAKX,OAAOJ,MAAMwB,Y,oCAMdqC,GAAa,IAAD,OACrBK,EAAU,GACVvB,EAAO5B,KAAKa,MAAM,GAOtB,OANAb,KAAKa,MAAM,GAAGuC,SAAQ,SAACpE,GACtB,EAAK8E,gBAAgBX,EAASnE,EAAM,KAAM4C,EAAM,EAAKvC,OAAOJ,MAAM8B,EAAG+B,MAEtE9C,KAAKa,MAAM,GAAGuC,SAAQ,SAACpE,GACtB,EAAK8E,gBAAgBX,EAASnE,EAAM,IAAK4C,EAAM,EAAKvC,OAAOJ,MAAMqE,EAAGR,MAE9DK,I,sCAIQI,EAAMvE,EAAMD,EAAM6C,EAAM3C,EAAO6D,GAC9C,IAAI7E,EAAIC,EACJwF,EACJ,GAA6B,OAAzB1D,KAAKC,WAAWuD,KAAe,CAAC,IAAD,cACvBxE,EADuB,GACjCf,EADiC,KAC7BC,EAD6B,KAElCwF,EAAOzF,EAAGjC,KAAI,SAACyH,EAAG7G,GAAJ,mBAAgBlC,EAAKiJ,OAAOF,EAAG,GAA/B,oBAA6C/I,EAAKiJ,OAAOzF,EAAGtB,GAAI,GAAhE,eACR,CAAC,IAAD,cACKoC,EADL,GACLd,EADK,KACDD,EADC,KAENyF,EAAOxF,EAAGlC,KAAI,SAACyH,EAAG7G,GAAJ,mBAAgBlC,EAAKiJ,OAAOF,EAAG,GAA/B,oBAA6C/I,EAAKiJ,OAAO1F,EAAGrB,GAAI,GAAhE,WAGf,IAAIK,EAAIiB,EAAGlC,KAAI,SAACyH,GAAD,OAAOA,EAAErG,MACpBC,EAAIa,EAAGlC,KAAI,SAACyH,GAAD,OAAOA,EAAEtG,MACpBI,EAAI,EACJwG,EAAI,EAEJC,GAAa,EACa,OAA1BhE,KAAKC,WAAWI,MACnB9C,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAOA,EAAEtG,MACgB,OAA1B6C,KAAKC,WAAWI,MAC1B9C,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAOA,EAAErG,MACgB,QAA1B4C,KAAKC,WAAWI,MAC1B9C,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAO/I,EAAKqH,IAAI0B,MACS,QAA1BzD,KAAKC,WAAWI,MAC1B9C,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAO/I,EAAKuB,IAAIwH,OAE3BlG,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAO,KAClBO,GAAa,GAGd,IAAIrC,EAAQ,GACZ,GAA8B,SAA1B3B,KAAKC,WAAWhB,OAAkC,GAAd+E,EAAoB,CAC3D,IAAIC,EAAO,EACPC,EAAO,EACmB,OAA1BlE,KAAKC,WAAWhB,OACnB8E,EAAI9F,EAAGjC,KAAI,SAACyH,GAAD,OAAOA,EAAEtG,MACpB8G,EAAOnB,EAAW3F,GAAG2E,IACrBoC,EAAOpB,EAAW3F,GAAG0E,KACe,OAA1B7B,KAAKC,WAAWhB,OAC1B8E,EAAI9F,EAAGjC,KAAI,SAACyH,GAAD,OAAOA,EAAErG,MACpB6G,EAAOnB,EAAW1F,GAAG0E,IACrBoC,EAAOpB,EAAW1F,GAAGyE,KACe,QAA1B7B,KAAKC,WAAWhB,OAC1B8E,EAAI9F,EAAGjC,KAAI,SAACyH,GAAD,OAAO/I,EAAKuB,IAAIwH,MAC3BQ,GAAQ,SACRC,EAAO,UAC6B,QAA1BlE,KAAKC,WAAWhB,QAC1B8E,EAAI9F,EAAGjC,KAAI,SAACyH,GAAD,OAAO/I,EAAKqH,IAAI0B,MAC3BQ,EAAOnB,EAAWf,IAAID,IACtBoC,EAAOpB,EAAWf,IAAIF,KAGvBF,EAAQ,CACPlB,MAAiC,EAA1BT,KAAKX,OAAOJ,MAAMwB,MACzBxB,MAAO8E,EACPI,WAAYnE,KAAKC,WAAWkE,WAC5BF,OAAMC,aAGPvC,EAAQ,CACP1C,MAAOA,EACPwB,MAAiC,EAA1BT,KAAKX,OAAOJ,MAAMwB,OAU3B,GANA8C,EAAKjF,KAAL,eACI0B,KAAKZ,cADT,CACwBL,OAAM9B,IAAGI,IAAGE,IAAGqG,cAAeF,EACrDG,QAAS7D,KAAKX,OAAOJ,MAAM4E,QAC3B7E,KAAM2C,KAGH3B,KAAKC,WAAWmE,OAAQ,CAC3B,IAAI7G,EAAI,EACJwG,EAAI,EAEJC,GAAa,EACa,OAA1BhE,KAAKC,WAAWI,MACnB9C,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAOA,EAAErG,MACgB,OAA1B4C,KAAKC,WAAWI,MAC1B9C,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAOA,EAAEtG,MACgB,QAA1B6C,KAAKC,WAAWI,MAC1B9C,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAQ,YAEiB,QAA1BzD,KAAKC,WAAWI,MAC1B9C,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAO,MAGlBlG,EAAIU,EAAGjC,KAAI,SAACyH,GAAD,OAAO,KAClBO,GAAa,GAGd,IAAIrC,EAAQ,GACZ,GAA8B,SAA1B3B,KAAKC,WAAWhB,OAAkC,GAAd+E,EAAoB,CAC3D,IAAIC,EAAO,EACPC,EAAO,EACmB,OAA1BlE,KAAKC,WAAWhB,OACnB8E,EAAI9F,EAAGjC,KAAI,SAACyH,GAAD,OAAOA,EAAEtG,MACpB8G,EAAOnB,EAAW3F,GAAG2E,IACrBoC,EAAOpB,EAAW3F,GAAG0E,KACe,OAA1B7B,KAAKC,WAAWhB,OAC1B8E,EAAI9F,EAAGjC,KAAI,SAACyH,GAAD,OAAOA,EAAErG,MACpB6G,EAAOnB,EAAW1F,GAAG0E,IACrBoC,EAAOpB,EAAW1F,GAAGyE,KACe,QAA1B7B,KAAKC,WAAWhB,OAC1B8E,EAAI9F,EAAGjC,KAAI,SAACyH,GAAD,OAAO/I,EAAKuB,IAAIwH,MAC3BQ,GAAQ,SACRC,EAAO,UAC6B,QAA1BlE,KAAKC,WAAWhB,QAC1B8E,EAAI9F,EAAGjC,KAAI,SAACyH,GAAD,OAAO/I,EAAKqH,IAAI0B,MAC3BQ,EAAOnB,EAAWf,IAAID,IACtBoC,EAAOpB,EAAWf,IAAIF,KAGvBF,EAAQ,CACPlB,MAAiC,EAA1BT,KAAKX,OAAOJ,MAAMwB,MACzBxB,MAAO8E,EACPI,WAAYnE,KAAKC,WAAWkE,WAC5BF,OAAMC,aAGPvC,EAAQ,CACP1C,MAAOA,EACPwB,MAAiC,EAA1BT,KAAKX,OAAOJ,MAAMwB,OAI3B8C,EAAKjF,KAAL,eACI0B,KAAKZ,cADT,CACwBL,OAAM9B,IAAGI,IAAGE,IACnC8G,UAAW,OACXR,QAAmC,IAA1B7D,KAAKX,OAAOJ,MAAM4E,QAC3B7E,KAAM2C,U,KCjSW2C,E,iDACpBC,WAAa,G,KAGbC,MAAQ,G,KAKR7E,SAAW,E,KAOXC,OAAS,G,KACTC,OAAS,G,oDAEDC,EAAOC,GACdC,KAAKF,MAAQA,EACbE,KAAKD,MAAQA,EAEbC,KAAKwE,MAAMpB,SAAQ,SAAAqB,GAAC,OAAIA,EAAEC,QAAQ5E,EAAOC,Q,8BAGlCV,EAAQvD,EAAOmE,GAAa,IAAD,OAClCD,KAAKuE,WAAalF,EAClBW,KAAKlE,MAAQA,EACbkE,KAAKC,WAAL,eAAuBA,GAEvBD,KAAKuE,WAAWC,MAAMpB,SAAQ,SAAAuB,GAC7B,IAMI3G,EACA4G,EAPAvF,EAAS,CAAC,eAAKsF,EAAG,IAAT,eAAoBA,EAAG,IAAMA,EAAG,GAAIA,EAAG,GAAIA,EAAG,IACvDxE,EAAKwE,EAAG,GAERE,GADMF,EAAG,GACHA,EAAG,IAMb,GALAE,EAAI,GAAK,UAKiB7B,IAAtB3D,EAAO,GAAGJ,MAAM7C,EAAiB,CACpCiD,EAAO,GAAGJ,MAAM8B,EAAI,IADgB,MAEf1B,EAAO,GAAGJ,MAAzBgD,EAF8B,EAE9BA,EAAGwC,EAF2B,EAE3BA,EAAGpI,EAFwB,EAExBA,EAAGD,EAFqB,EAErBA,EACfiD,EAAO,GAAGJ,MAAMqE,EAAhB,cAA2BrB,EAA3B,YAAgCwC,EAAhC,YAAqCpI,EAArC,KACAgD,EAAO,GAAGJ,MAAM4E,QAAUzH,EAG3B,IAEwB,IAAnBiD,EAAO,GAAGyF,QACbzF,EAAO,GAAGyF,MAAQ,KAEnB,IAAIC,EAAYlK,EAAE4B,QAAQ4C,EAAO,GAAGyF,OAIpC,IAHA9G,EAAI,SAAAf,GAAC,OAAI8H,EAAUpI,SAAV,aAAqBM,KAAMnB,MAClCjB,EAAEqC,QAAQ,OAAQ,UAEO,eAAvBmC,EAAO,GAAGuB,SAA2B,CACP,IAA7BvB,EAAO,GAAG2F,kBACb3F,EAAO,GAAG2F,gBAAkB,KAE7B,IAAIC,EAAapK,EAAE4B,QAAQ4C,EAAO,GAAG2F,kBACrCJ,EAAK,SAAAtH,GAAC,OAAI2H,EAAWtI,SAAX,aAAsBW,KAAMxB,MACnCjB,EAAEqC,QAAQ,OAAQ,UAErBmC,EAAO,GAAGwD,mBAAqBhI,EAAE8B,SAAS0C,EAAO,GAAGwD,mBAAoB/G,GACxEuD,EAAO,GAAGsD,eAAiB9H,EAAE8B,SAAS0C,EAAO,GAAGsD,eAAgB7G,GAChEuD,EAAO,GAAGuD,aAAe/H,EAAE8B,SAAS0C,EAAO,GAAGuD,aAAc9G,QAE5DuD,EAAO,GAAGb,OAAS3D,EAAE8B,SAAS0C,EAAO,GAAGb,OAAQ1C,GAChDuD,EAAO,GAAGG,MAAQ3E,EAAE8B,SAAS0C,EAAO,GAAGG,MAAO1D,GAC9CuD,EAAO,GAAG2B,UAAYnG,EAAE8B,SAAS0C,EAAO,GAAG2B,UAAWlF,GACtDuD,EAAO,GAAGoB,MAAQ5F,EAAE8B,SAAS0C,EAAO,GAAGoB,MAAO3E,GAC9CuD,EAAO,GAAGsB,QAAU9F,EAAE8B,SAAS0C,EAAO,GAAGsB,QAAS7E,GAClDuD,EAAO,GAAGmB,OAA8B,MAArBnB,EAAO,GAAGmB,OAAiB3F,EAAE8B,SAAS0C,EAAO,GAAGmB,OAAQ1E,GAAS,IACpFuD,EAAO,GAAGqB,QAAgC,MAAtBrB,EAAO,GAAGqB,QAAkB7F,EAAE8B,SAAS0C,EAAO,GAAGqB,QAAS5E,GAAS,IAExFuD,EAAO,GAAGJ,MAAM8B,EAAyB,KAArB1B,EAAO,GAAGJ,MAAM8B,EAAW1B,EAAO,GAAGJ,MAAMqE,EAAIjE,EAAO,GAAGJ,MAAM8B,EAElF,MAAO0C,GAGR,OAFAnD,QAAQF,MAAM,8CAA+CqD,EAAEyB,cAC/DL,EAAI,GAAKpB,EAAEyB,SAKZ,IAEIC,EAFAC,EAAQ,EAAKZ,MAAMa,WAAU,SAAAZ,GAAC,OAAIA,EAAEtE,KAAOA,MAGhC,IAAXiF,IACHD,EAAO,IAAIG,GACNZ,QAAQ,EAAK5E,MAAO,EAAKC,OAC9B,EAAKyE,MAAMlG,KAAK6G,IAEhBA,EAAO,EAAKX,MAAMY,GAGnBD,EAAKI,QAAQlG,EAAQY,EAAYjC,EAAG4G,MAGrC5E,KAAKL,a,oCAMLK,KAAKwE,MAAMpB,SAAQ,SAAA+B,GACG,MAAjBA,EAAK/E,MAAM,IACW,GAAtB+E,EAAK9F,OAAO0D,QAChBoC,EAAKK,iBAENxF,KAAKyF,yB,0CAGctF,GACnB,IAAIiF,EAAQpF,KAAKwE,MAAMa,WAAU,SAAAZ,GAAC,OAAIA,EAAEtE,KAAOA,KAC/C,IAAe,IAAXiF,EAAc,CACjB,IAAID,EAAOnF,KAAKwE,MAAMY,GACtB,GAAqB,MAAjBD,EAAK/E,MAAM,GAAY,OAC3B+E,EAAKK,cAENxF,KAAKyF,yB,6BAGCvG,GAAO,IAAD,OACZc,KAAKd,KAAOA,EACZ,IAAIwG,GAAQ,EAEZ1F,KAAKyF,uBACLzF,KAAK2F,gBAEL3F,KAAKwE,MAAMpB,SAAQ,SAAA+B,GAUlB,GATIO,IACU,OAATxG,EACH,EAAKW,OAAS,GAEd,EAAKD,OAAS,GAEf8F,GAAQ,GAGY,MAAjBP,EAAK/E,MAAM,IACW,GAAtB+E,EAAK9F,OAAO0D,OAAhB,CACA,IAAII,EAAUgC,EAAKS,OAAO1G,EAAM,EAAK2G,WAExB,OAAT3G,EACH,EAAKW,OAAS,EAAKA,OAAOiG,OAAO3C,GAEjC,EAAKvD,OAAS,EAAKA,OAAOkG,OAAO3C,OAGnCnD,KAAKyF,yB,6CAOkB,IAAD,OAEtB,GADAzF,KAAK6F,UAAY,CAAE1I,GAAI,GAAIC,GAAI,GAAI2E,IAAK,IACX,OAAzB/B,KAAKC,WAAWuD,KAAe,CAClC,IAAIkC,GAAQ,EACZ1F,KAAKwE,MAAMpB,SAAQ,SAAC+B,EAAMvI,GACzB,GAAqB,MAAjBuI,EAAK/E,MAAM,IACW,GAAtB+E,EAAK9F,OAAO0D,OAAhB,CAEA,IAAInB,EAAOuD,EAAKvD,KAChB,GAAI8D,EACH,EAAKG,UAAY,CAAE1I,GAAG,eAAMyE,EAAKzE,IAAMC,GAAG,eAAMwE,EAAKxE,IAAM2E,IAAI,eAAMH,EAAKG,MAC1E2D,GAAQ,MACF,CACN,IAAMK,EAAS,SAAAC,GACVpE,EAAKoE,GAAIlE,IAAM,EAAK+D,UAAUG,GAAIlE,MACrC,EAAK+D,UAAUG,GAAIlE,IAAMF,EAAKoE,GAAIlE,KAE/BF,EAAKoE,GAAInE,IAAM,EAAKgE,UAAUG,GAAInE,MACrC,EAAKgE,UAAUG,GAAInE,IAAMD,EAAKoE,GAAInE,MAGpCkE,EAAO,MACPA,EAAO,MACPA,EAAO,gBAGH,CACN,IAAIE,EAAO,CAACpE,IAAK7B,KAAKC,WAAWiG,QAASpE,KAAM9B,KAAKC,WAAWiG,SAChElG,KAAK6F,UAAY,CAAE1I,GAAI8I,EAAM7I,GAAI6I,EAAMlE,IAAI,eAAKkE,EAAN,CAAYnE,IAAK,Q,sCAM5D,IAAIqE,EACAC,EAAS,EAAE,EAAG,GACdC,EAAS,EAAE,EAAG,GACdC,EAAc,EACdC,EAAa,OACbC,EAAcxG,KAAKyG,cAAczG,KAAKC,YAE1C,QAAyB+C,GAArBhD,KAAKF,MAAM4G,OAAqB,CACnC,IAAIC,EAAUxI,KAAK4D,IAAI/B,KAAKF,MAAM4G,OAAOE,MAAMC,MAAM,GAAK7G,KAAKF,MAAM4G,OAAOE,MAAMC,MAAM,IACpFC,EAAU3I,KAAK4D,IAAI/B,KAAKF,MAAM4G,OAAOK,MAAMF,MAAM,GAAK7G,KAAKF,MAAM4G,OAAOK,MAAMF,MAAM,IAExF,GAAIF,EAAUG,EAAS,CACtB,IAAItI,GAAUwB,KAAKF,MAAM4G,OAAOK,MAAMF,MAAM,GAAK7G,KAAKF,MAAM4G,OAAOK,MAAMF,MAAM,IAAM,EACrFT,EAASpG,KAAKF,MAAM4G,OAAOE,MAAMC,MACjCR,EAAS,CAAC7H,EAASmI,EAAU,EAAGnI,EAASmI,EAAU,OAC7C,CACN,IAAInI,GAAUwB,KAAKF,MAAM4G,OAAOE,MAAMC,MAAM,GAAK7G,KAAKF,MAAM4G,OAAOE,MAAMC,MAAM,IAAM,EACrFR,EAASrG,KAAKF,MAAM4G,OAAOK,MAAMF,MACjCT,EAAS,CAAC5H,EAASsI,EAAU,EAAGtI,EAASsI,EAAU,GAXjB,MAcX9G,KAAKgH,UAAU7I,KAAK0D,IAAI8E,EAASG,IAdtB,mBAclCX,EAdkC,KAc1BG,EAd0B,KAenCC,EAAa,SAGdvG,KAAKiH,YAAc,CAAEb,SAAQC,SAAQF,SAAQG,cAAaC,aAAYC,iB,gCAG7DU,GACT,IAAItF,EAAO5B,KAAK6F,UACZsB,EAAO,EACPC,EAAO,EA4BX,MA3B8B,OAA1BpH,KAAKC,WAAWI,OACnB8G,EAAOvF,EAAKxE,GAAG0E,IACfsF,EAAOxF,EAAKxE,GAAGyE,KACqB,OAA1B7B,KAAKC,WAAWI,OAC1B8G,EAAOvF,EAAKzE,GAAG2E,IACfsF,EAAOxF,EAAKzE,GAAG0E,KACqB,QAA1B7B,KAAKC,WAAWI,OAC1B8G,EAAOvF,EAAKG,IAAID,IAChBsF,EAAOxF,EAAKG,IAAIF,KACoB,QAA1B7B,KAAKC,WAAWI,QAC1B8G,GAAQ,SACRC,EAAO,WAGJpH,KAAKC,WAAWmE,QAAqC,OAA1BpE,KAAKC,WAAWI,OAA4C,OAA1BL,KAAKC,WAAWI,QAChF8G,EAAOhJ,KAAK2D,IAAIF,EAAKxE,GAAG0E,IAAKF,EAAKzE,GAAG2E,KACrCsF,EAAOjJ,KAAK0D,IAAID,EAAKxE,GAAGyE,IAAKD,EAAKzE,GAAG0E,MAGlCsF,EAAOC,GAAQ,IAClBA,EAAO,MAOD,CAHM,CAACD,EAAMC,GACP,CAAEnK,EAAG,EAAGI,EAAG,EAAGE,GAFb6J,EAAOD,GAEmBD,M,oCAI3BjH,GACb,IAAIoH,EAA0B,OAApBpH,EAAWuD,KAAgB,OAAS,IAC9C,MAAyB,OAArBvD,EAAWI,MACR,MAAN,OAAagH,EAAb,KAC+B,OAArBpH,EAAWI,MACf,MAAN,OAAagH,EAAb,KAC+B,QAArBpH,EAAWI,MACf,OAAN,OAAcgH,EAAd,KAC+B,QAArBpH,EAAWI,MACf,OAAN,OAAcgH,EAAd,UADM,I,6BAMDlH,GACNH,KAAKwE,MAAQxE,KAAKwE,MAAM8C,QAAO,SAAA7C,GAAC,OAAIA,EAAEtE,IAAMA,S,wCCjQxCoH,EAAe,CACnBC,MAAO,KACPC,UAAU,EACVC,WAAY,EACZC,YAAY,EACZC,UAAW,UACXC,SAAU,MACVC,OAAQ,CACNC,EAAG,GACH9F,EAAG,EACH5F,EAAG,GACHiB,EAAG,EACH0K,IAAK,GAEPpB,MAAO,CACLC,MAAO,EAAE,EAAG,GACZoB,SAAU,CACRhJ,MAAO,QAETiJ,cAAe,QAEjBnB,MAAO,CACLoB,YAAa,IACbtB,MAAO,EAAE,EAAG,GACZuB,WAAW,IACXH,SAAU,CACRhJ,MAAO,QAETiJ,cAAe,SAKbG,EAAW,CACfC,YAAY,EACZC,YAAY,EACZC,gBAAgB,EAChBC,aAAa,EACbC,uBAAwB,CACtB,UAAW,mBAAoB,wBAAyB,wBAAyB,yBAEnFC,qBAAsB,CACpBhF,OAAQ,MACRiF,SAAU,WACVpI,OAAQ,IACRC,MAAO,IACPoI,MAAO,IAKLC,EAAe,CACnBtB,MAAO,KACPC,UAAU,EACVC,WAAY,EACZC,YAAY,EACZC,UAAW,UACXC,SAAU,YACVC,OAAQ,CACNC,EAAG,EACH9F,EAAG,EACH5F,EAAG,EACHiB,EAAG,EACH0K,IAAK,GAEPpB,MAAO,CACLmC,OAAQ,GACRlC,MAAO,EAAE,EAAG,IAEdE,MAAO,CACLoB,YAAa,IACbtB,MAAO,EAAE,EAAG,IAEdmC,MAAO,CACLpC,MAAM,CAACY,MAAO,YACdT,MAAM,CAACS,MAAO,YACdyB,MAAM,CAACzB,MAAO,KACdjB,WAAW,OACX2C,OAAQ,CACNC,IAAK,CACHlM,GAAI,GACJI,GAAI,IACJE,EAAG,MAyFI6L,EAnFF,SAAC,GAA6B,IAA5BJ,EAA2B,EAA3BA,MAAO9J,EAAoB,EAApBA,KAAMS,EAAc,EAAdA,SAAc,EAEhB0J,mBAAS,CAC/B9F,KAAM,GACNmD,OAAQa,EACR+B,OAAQjB,EACRX,WAAY,IAN0B,mBAEnC5H,EAFmC,KAE5ByJ,EAF4B,OAQhBF,mBAAS,CAC/B9F,KAAM,GACNmD,OAAQoC,EACRQ,OAAQjB,EACRX,WAAY,IAZ0B,mBAQnC3H,EARmC,KAQ5ByJ,EAR4B,KAgBxCC,qBAAU,WACRT,EAAMtE,QAAQ5E,EAAOC,KACpB,IAGH0J,qBAAU,WACR,GAAmB,OAAfT,EAAM9J,KAAe,CAAC,IAAD,EACkD8J,EAAM/B,YAAtEb,EADc,EACdA,OAAQC,EADM,EACNA,OAAQF,EADF,EACEA,OAAQG,EADV,EACUA,YAAaC,EADvB,EACuBA,WAAYC,EADnC,EACmCA,YACpDhD,EAAiC,OAA1BwF,EAAM/I,WAAWuD,KAAgB,IAAM,OAC9CkG,EAAY3J,EAAM2G,OAEtBgD,EAAUV,MAAMpC,MAAMC,MAAQT,EAC9BsD,EAAUV,MAAMjC,MAAMF,MAAQR,EAC9BqD,EAAUV,MAAMC,MAAMpC,MAAQV,EAC9BuD,EAAUV,MAAMC,MAAMzB,MAAQhB,EAC9BkD,EAAUV,MAAMpC,MAAMY,MAAtB,aAAoChE,EAApC,KACAkG,EAAUV,MAAMjC,MAAMS,MAAtB,aAAoChE,EAApC,KACAkG,EAAUV,MAAMzC,WAAaA,EAC7BmD,EAAUV,MAAM1C,YAAcA,EAC9BkD,EAAS,eAAIzJ,EAAL,CAAY2G,OAAOgD,QAG9B,CAACV,EAAM9J,KAAM8J,EAAM/B,cAEtBwC,qBAAU,WACRF,EAAS,eAAIzJ,EAAL,CAAYyD,KAAKyF,EAAMpJ,YAC9B,CAACoJ,EAAMpJ,SACV6J,qBAAU,WACRD,EAAS,eAAIzJ,EAAL,CAAYwD,KAAKyF,EAAMnJ,YAC9B,CAACmJ,EAAMnJ,SAGV,IAAM8J,EAAW,SAACC,GAChBL,EAAS,aAACD,OAAOxJ,EAAMwJ,QAAWM,KAE9BC,EAAW,SAACD,GAChBJ,EAAS,aAACF,OAAOvJ,EAAMuJ,QAAWM,KAIpC,OACE,yBAAKE,UAAWC,IAAOX,MACT,OAATlK,EACC,kBAAC,IAAD,CAAM8K,IAAK,EACTC,MAAO,CAAExJ,MAAO,OAAQD,OAAQ,QAChC+C,KAAMxD,EAAMwD,KACZmD,OAAQ3G,EAAM2G,OACd4C,OAAQvJ,EAAMuJ,OACdY,kBAAkB,EAClBC,cAAeN,EACfO,SAAUP,IAGZ,kBAAC,IAAD,CAAMG,IAAK,EACTC,MAAO,CAAExJ,MAAO,OAAQD,OAAQ,QAChC+C,KAAMzD,EAAMyD,KACZmD,OAAQ5G,EAAM4G,OACd4C,OAAQxJ,EAAMwJ,OACdY,kBAAkB,EAClBvK,SAAUA,EACVwK,cAAeR,EACfS,SAAUT,M,gBCmCPU,EAnNC,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,QAASpL,EAAuB,EAAvBA,KAAMe,EAAiB,EAAjBA,WAAiB,EACZoJ,mBAASpJ,EAAWiG,SADR,mBAC7CqE,EAD6C,KAC/BC,EAD+B,KAGlD,SAASC,EAAgBC,GACxB,IAEIC,EAFAC,EAAQF,EAAMG,OAAO9L,KACrB+L,EAAWJ,EAAMG,OAAOE,MAG5B,OAAQH,GACP,IAAK,OACJD,EAAsB,MAAbG,EAAmB,KAAO,IACnC,MAED,IAAK,UACJH,EAASxM,KAAK4D,IAAI+I,GACdE,MAAML,KAASA,EAAS,GAC5B,MAED,IAAK,SACJA,EAAsB,OAAbG,EACT,MAED,IAAK,aACJ,OAAQA,GACP,IAAK,QACJH,EAAS,UACT,MACD,IAAK,OACJA,EAAS,OACT,MACD,IAAK,WACJA,EAAS,WAIZ,QACC,OAAQG,GACP,IAAK,QACJH,EAAS,KACT,MACD,IAAK,QACJA,EAAS,KACT,MACD,IAAK,SACJA,EAAS,MACT,MACD,IAAK,SACJA,EAAS,MACT,MACD,IAAK,OACJA,EAAS,OACT,MACD,QACKG,EAASG,WAAW,UACvBN,EAAS,SAMdL,EAAQ,aAAc,CAAEK,SAAQC,UAGjC,SAASM,EAAaP,GACrB,IAAIG,EAAW,GACf,OAAQH,GACP,IAAK,KACJG,EAAW,QACX,MACD,IAAK,KACJA,EAAW,QACX,MACD,IAAK,MACJA,EAAW,SACX,MACD,IAAK,MACJA,EAAW,SACX,MACD,IAAK,OACJA,EAAW,OACX,MACD,IAAK,OACJA,EAAWK,IAGb,OAAOL,EAkBR,SAASK,IACR,IAAIC,EAAQ,IAaZ,MAZyB,OAArBnL,EAAWI,MACd+K,GAAS,KACsB,OAArBnL,EAAWI,MACrB+K,GAAS,KACsB,QAArBnL,EAAWI,MACrB+K,GAAS,MACsB,QAArBnL,EAAWI,MACrB+K,GAAS,MAETA,GAAS,OAEVA,GAAS,IAeV,OACC,6BAEC,yBAAKtB,UAAWC,IAAOsB,WACtB,2BAAOC,QAAQ,QAAf,eACA,4BAAQvM,KAAK,OAAOgM,MAA2B,OAApB9K,EAAWuD,KAAgB,IAAM,OAAQ+H,SAAUd,GAC7E,qCACA,0CAKF,yBAAKX,UAAWC,IAAOyB,oBACtB,0BAAM1B,UAAS,UAAKC,IAAO0B,uBAAZ,YAA8C,MAARvM,GAAgB6K,IAAO2B,gCAC3EC,QAAS,kBAAMrB,EAAQ,OAAQ,QAC/B,uBAAGR,UAAU,mBAEd,0BAAMA,UAAS,UAAKC,IAAO0B,uBAAZ,YAA8C,MAARvM,GAAgB6K,IAAO2B,gCAC3EC,QAAS,kBAAMrB,EAAQ,OAAQ,QAC/B,uBAAGR,UAAU,kBAIL,OAAT5K,GACA,yBAAK4K,UAAWC,IAAO6B,aACtB,yBAAK9B,UAAWC,IAAOsB,WACtB,2BAAOC,QAAQ,SAAf,kBACA,4BAAQvM,KAAK,QAAQgM,MAAOG,EAAajL,EAAWI,OAAQkL,SAAUd,GACrE,yCACA,yCACA,0CACA,0CACA,0CAImB,OAApBxK,EAAWuD,MACX,yBAAKsG,UAAWC,IAAOsB,WACtB,2BAAOC,QAAQ,WAAf,WACA,2BAAOvM,KAAK,UAAUI,KAAK,OAAOoM,SAAU,SAAC9H,GAAD,OAAO+G,EAAgB/G,EAAEoH,OAAOE,QAAQc,UAlD1F,SAA6BpI,GACd,UAAVA,EAAEuG,KACLvG,EAAEoH,OAAOiB,QAgD+GC,OA5C1H,SAA0BtI,GACzBgH,EAAgB,CAACI,OAAO,CAAC9L,KAAM,UAAWgM,MAAOR,MA2CkGQ,MAAOR,KAIvJ,yBAAKT,UAAWC,IAAOsB,WACtB,2BAAOC,QAAQ,UAAf,gBACA,4BAAQvM,KAAK,SAASgM,MAAO9K,EAAWmE,OAAS,KAAO,MAAOmH,SAAUd,GACxE,uCACA,wCAIF,6BAEA,yBAAKX,UAAWC,IAAOsB,WACtB,2BAAOC,QAAQ,SAAf,oBACA,4BAAQvM,KAAK,QAAQgM,MAAOG,EAAajL,EAAWhB,OAAQsM,SAAUd,GACrE,wCAAcU,KACd,yCACA,yCACA,0CACA,0CACA,0CAIF,yBAAKrB,UAAWC,IAAOsB,WACtB,2BAAOC,QAAQ,cAAf,aACA,4BAAQvM,KAAK,aAAagM,MA/G/B,SAA4BJ,GAC3B,IAAIG,EAAW,GACf,OAAQH,GACP,IAAK,UACJG,EAAW,QACX,MACD,IAAK,OACJA,EAAW,OACX,MACD,IAAK,WACJA,EAAW,WAGb,OAAOA,EAkG8BkB,CAAmB/L,EAAWkE,YAAaoH,SAAUd,GACrF,yCACA,wCACA,iDCtFQwB,EAlHK,SAAC,GAA+B,IAA7B3B,EAA4B,EAA5BA,QAAS4B,EAAmB,EAAnBA,MAAOpQ,EAAY,EAAZA,MAAY,EAEzBuN,mBAAS,CAAE8C,KAAMD,EAAMC,KAAMC,MAAOF,EAAME,MAAOC,QAAS,KAFjC,mBAE7CF,EAF6C,KAEvCG,EAFuC,KAKlD,SAASC,EAAa7B,GACrB,IAAIE,EAAQF,EAAMG,OAAO9L,KACrB2E,EAAOgH,EAAMG,OAAOE,MAExB,GAAa,WAATH,EACH0B,EAAW,eAAKH,EAAN,CAAYE,QAAS3I,SACzB,CACN,IAAI8I,EAAO,YAAOL,EAAKA,MACnBvP,EAAI4P,EAAQnH,WAAU,SAAArH,GAAC,OAAIA,EAAEmC,IAAMyK,KACvC4B,EAAQ5P,GAAG8G,KAAOA,EAClB8I,EAAQ5P,GAAGwD,OAAQ,EACnBkM,EAAW,eAAKH,EAAN,CAAYA,KAAMK,MAK9B,SAASC,EAAchJ,GACR,UAAVA,EAAEuG,KACL0C,EAAiBjJ,EAAEoH,OAAO9L,KAAM0E,EAAEoH,OAAOE,OAAO,EAAMtH,EAAEoH,QAI1D,SAAS8B,EAAWlJ,GACnBiJ,EAAiBjJ,EAAEoH,OAAO9L,KAAM0E,EAAEoH,OAAOE,OAAO,GAIjD,SAAS2B,EAAiBvM,EAAIuD,EAAMkJ,EAAQ/B,GAI3C,GAFW,YAAP1K,IAAkBA,GAAM,GAEf,KAATuD,EAAJ,CAOA,IAAI8I,EAAO,YAAOL,EAAKA,MACnBvP,EAAI4P,EAAQnH,WAAU,SAAArH,GAAC,OAAIA,EAAEmC,IAAMA,KAEvC,IACCtF,EAAE8B,SAAS+G,EAAX,eAAsB5H,IAErB,MAAO+I,GAOR,OANAvE,QAAQF,MAAMyE,EAAIK,SAEb0H,IAAiB,GAAPzM,IACdqM,EAAQ5P,GAAGwD,OAAQ,EACnBkM,EAAW,eAAKH,EAAN,CAAYA,KAAMK,MAEtB,QAGR,GAAII,EAAQ,CACX,IACI7N,EADA8N,EAAOhS,EAAE8B,SAAS+G,EAAM5H,QAGhBkH,GAAR6J,QAAkC7J,GAAb6J,EAAK9N,OAC7ByN,EAAUA,EAAQxQ,KAAI,SAAAgC,GAErB,OADAA,EAAE8O,SAAY9O,EAAEe,MAAQ8N,EAAK9N,MAAef,EAAE8O,SACvC9O,KAERe,EAAO8N,EAAK9N,OAGF,GAAPoB,GACHqM,EAAQ5P,GAAGmC,KAAOA,EAClByN,EAAQ5P,GAAGkQ,UAAW,EAEtBR,EAAW,eAAKH,EAAN,CAAYA,KAAMK,YAEhBxJ,GAARjE,IACHyN,EAAO,CAAI,CAAErM,GAAIgM,EAAKC,MAAO1I,OAAM3E,KAAMA,EAAM+N,UAAU,IAAlD,mBAA8DN,KAEtEF,EAAW,CACVH,KAAMK,EAASJ,MAAOD,EAAKC,MAAQ,EAAGC,QAAS,MAGjD/B,EAAQ,kBAAmB,CAAEvL,OAAMoN,KAAK,eAAMA,EAAP,CAAaA,KAAMK,MAGvD3B,GACHA,EAAOiB,YAnDPQ,EAAW,eACPH,EADM,CACAA,KAAMA,EAAKA,KAAK7E,QAAO,SAAAtJ,GAAC,OAAIA,EAAEmC,IAAMA,QAwDhD,OACC,6BACC,yBAAK2J,UAAWC,IAAOgD,cACtB,yBAAKjD,UAAS,UAAKC,IAAOiD,iBAAZ,YAAgCjD,IAAOkD,sBACpD,2BAAOC,YAAY,sBAAsB/N,KAAK,OAAOJ,KAAK,UAAUwM,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAC7H5B,MAAOoB,EAAKE,WAGbF,EAAKA,KAAKnQ,KAAI,SAAA6Q,GAAI,OACjB,yBAAK7C,IAAK6C,EAAK1M,GAAI2J,UAAS,UAAKC,IAAOiD,iBAAZ,YAAgCH,EAAKzM,OAAS2J,IAAOoD,sBAArD,YAA8EN,EAAKC,UAAY/C,IAAOqD,2BACjI,2BAAOjO,KAAK,OAAOJ,KAAM8N,EAAK1M,GAAIoL,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAC3F5B,MAAO8B,EAAKnJ,c,0BCqDL2J,EAzJM,SAAC,GAAuB,IAArBlI,EAAoB,EAApBA,KAAMmF,EAAc,EAAdA,QAAc,EACPjB,mBAAS,GADF,mBACtCiE,EADsC,KACzBC,EADyB,OAETlE,oBAAS,GAFA,mBAEtCmE,EAFsC,KAE1BC,EAF0B,OAGnBpE,mBAAS,CAChCpH,EAAGkD,EAAK,GAAGlG,MAAMgD,EACjBwC,EAAGU,EAAK,GAAGlG,MAAMwF,EACjBpI,EAAG8I,EAAK,GAAGlG,MAAM5C,EACjBD,EAAG+I,EAAK,GAAGlG,MAAM7C,IAPyB,mBAGtC6C,EAHsC,KAG/ByO,EAH+B,KAUrCvN,EAAKgF,EAAK,GAEhB,SAASoH,EAAa7B,GACrB,IAAI3L,EAAO2L,EAAMG,OAAO9L,KACpBgM,EAAQL,EAAMG,OAAOE,MAEzBwC,EAAeD,EAAc,GAG7BhD,EAAQ,mBAAoB,CAAEvL,OAAMgM,QAAO5K,OAG5C,SAASwN,EAAiBxO,GACzBmL,EAAQ,mBAAoB,CAAEvL,KAAM,WAAYgM,MAAO5L,EAAMgB,OAC7DmK,EAAQ,yBAA0B,CAAEnK,OAGrC,SAASsM,EAAchJ,GACR,UAAVA,EAAEuG,KACLvG,EAAEoH,OAAOiB,OAIX,SAASa,EAAWlJ,GAEf6J,EAAc,IACjBC,EAAe,GACfjD,EAAQ,yBAA0B,CAAEnK,QAwBtC,OACC,yBAAK6J,IAAK7E,EAAK,GAAI2E,UAAS,UAAKC,IAAO6D,SAAZ,YAAsC,MAAdzI,EAAK,GAAG,IAAc4E,IAAO8D,gBAChF,yBAAK/D,UAAS,UAAKC,IAAO+D,cACzB,yBAAKnC,QAvBR,WACmB,MAAdxG,EAAK,GAAG,IACXmF,EAAQ,oBAAqB,CAAEnK,QAqBE2J,UAAS,UAAKC,IAAOgE,gBAAZ,YAA+BhE,IAAOiE,wBAC9E,uBAAGlE,UAAyB,MAAd3E,EAAK,GAAG,GAAcA,EAAK,GAAGpC,OAAR,gCAAtB,uBAEf,yBAAK+G,UAAS,UAAKC,IAAOkE,mBACzB,yBAAKtC,QApBT,WACC8B,GAAeD,IAmBqB1D,UAAS,UAAKC,IAAOgE,kBACrD,uBAAGjE,UAAS,oBAEb,yBAAK6B,QAAS,kBAAMrB,EAAQ,WAAY,CAAEnK,QAAO2J,UAAS,UAAKC,IAAOgE,kBACrE,uBAAGjE,UAAS,iBAEb,yBAAK6B,QAAS,kBAAMrB,EAAQ,aAAc,CAAEnK,QAAO2J,UAAS,UAAKC,IAAOgE,kBACvE,uBAAGjE,UAAS,kBAEZ0D,EAAa,yBAAK1D,UAAWoE,IAASC,SACtC,yBAAKrE,UAAWoE,IAASE,MAAOzC,QA3BrC,WACC8B,GAAc,GACdnD,EAAQ,kBAAmB,CAAEnK,KAAIlB,aA0B7B,kBAAC,eAAD,CAAcA,MAAOA,EAAOsM,SAxBjC,SAAqB8C,GACpBX,EAASW,EAAIC,SAwBD,OAIX,yBAAKxE,UAAS,UAAKC,IAAOsB,YACzB,2BAAOC,QAAQ,SAAf,YACA,2BAAOnM,KAAK,OAAOJ,KAAI,QAAWgM,MAAO5F,EAAK,GAAGL,MAAOyG,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,cAG3I,yBAAKpD,UAAWC,IAAOwE,kBACtB,0BAAM5C,QAAS,kBAAMgC,EAAiB,cAAc7D,UAAS,UAAKC,IAAOyE,qBAAZ,YAAyD,cAArBrJ,EAAK,GAAGvE,UAA4BmJ,IAAO0E,+BAE3I,uBAAG3E,UAAU,eAEd,0BAAM6B,QAAS,kBAAMgC,EAAiB,UAAU7D,UAAS,UAAKC,IAAOyE,qBAAZ,YAAyD,UAArBrJ,EAAK,GAAGvE,UAAwBmJ,IAAO0E,+BAEnI,uBAAG3E,UAAU,qBAEd,0BAAM6B,QAAS,kBAAMgC,EAAiB,eAAe7D,UAAS,UAAKC,IAAOyE,qBAAZ,YAAyD,eAArBrJ,EAAK,GAAGvE,UAA6BmJ,IAAO0E,+BAE7I,uBAAG3E,UAAS,0BAAqBC,IAAO2E,iBAIpB,eAArBvJ,EAAK,GAAGvE,SACR,oCACC,yBAAKkJ,UAAS,UAAKC,IAAOsB,YACzB,2BAAOC,QAAQ,UAAf,YACA,2BAAOnM,KAAK,OAAOJ,KAAI,SAAYgM,MAAO5F,EAAK,GAAG3G,OAAQ+M,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,gBAGvH,cAArB/H,EAAK,GAAGvE,SACR,yBAAKkJ,UAAS,UAAKC,IAAOsB,UAAZ,YAAyBtB,IAAO4E,gBAC7C,2BAAOrD,QAAQ,SAAf,UACA,2BAAOnM,KAAK,OAAOJ,KAAI,QAAWgM,MAAO5F,EAAK,GAAG1E,MAAO8K,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,UAC1I,sCACA,2BAAO/N,KAAK,OAAOJ,KAAI,SAAYgM,MAAO5F,EAAK,GAAG3E,OAAQ+K,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,WAE7I,yBAAKpD,UAAS,UAAKC,IAAOsB,YACzB,2BAAOC,QAAQ,SAAf,YACA,2BAAOnM,KAAK,OAAOJ,KAAI,QAAWgM,MAAO5F,EAAK,GAAG1E,MAAO8K,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,YAI5I,yBAAKpD,UAAS,UAAKC,IAAOsB,UAAZ,YAAyBtB,IAAO4E,gBAC7C,2BAAOrD,QAAQ,WAAf,WACA,2BAAOnM,KAAK,OAAOJ,KAAI,UAAagM,MAAO5F,EAAK,GAAGxE,QAAS4K,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAkC,cAArB/H,EAAK,GAAGvE,SAA2B,SAAW,OAC7L,sCACA,2BAAOzB,KAAK,OAAOJ,KAAI,UAAagM,MAAO5F,EAAK,GAAGzE,QAAS6K,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAkC,cAArB/H,EAAK,GAAGvE,SAA2B,SAAW,SAI/L,oCACC,yBAAKkJ,UAAS,UAAKC,IAAOsB,YACzB,2BAAOC,QAAQ,mBAAf,eACA,2BAAOnM,KAAK,OAAOJ,KAAI,kBAAqBgM,MAAO5F,EAAK,GAAGH,gBAAiBuG,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,cAE/J,yBAAKpD,UAAS,UAAKC,IAAOsB,UAAZ,YAAyBtB,IAAO4E,gBAC7C,2BAAOrD,QAAQ,kBAAf,aACA,2BAAOnM,KAAK,OAAOJ,KAAI,iBAAoBgM,MAAO5F,EAAK,GAAGxC,eAAgB4I,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAkC,cAArB/H,EAAK,GAAGvE,SAA2B,SAAW,OAC3M,mCACA,2BAAOzB,KAAK,OAAOJ,KAAI,eAAkBgM,MAAO5F,EAAK,GAAGvC,aAAc2I,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAkC,cAArB/H,EAAK,GAAGvE,SAA2B,SAAW,QAExM,yBAAKkJ,UAAS,UAAKC,IAAOsB,YACzB,2BAAOC,QAAQ,sBAAf,eACA,2BAAOnM,KAAK,OAAOJ,KAAI,qBAAwBgM,MAAO5F,EAAK,GAAGtC,mBAAoB0I,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,iBClI3J0B,EApBC,SAAC,GAA6B,IAA3BtE,EAA0B,EAA1BA,QAAS/F,EAAiB,EAAjBA,WAM3B,OACC,yBAAKuF,UAAWC,IAAO8E,UACrB,yBAAKlD,QANR,SAAmBlI,GAClB6G,EAAQ,YAKmBR,UAAS,UAAKC,IAAO+E,YAC7C,uBAAGhF,UAAS,iBAGbvF,EAAWC,MAAMxI,KAAI,SAAAmJ,GAAI,OACxB,kBAAC,EAAD,CAAc6E,IAAK7E,EAAK,GAAImF,QAASA,EAASnF,KAAMA,SCmE1C4J,EA/EQ,SAAC,GAAgC,IAA9BzE,EAA6B,EAA7BA,QAAS0E,EAAoB,EAApBA,OAAQlT,EAAY,EAAZA,MAAY,EAClBuN,mBAAS,GADS,mBACjDiE,EADiD,KACpCC,EADoC,OAE9BlE,oBAAU4F,EAAeD,EAAOjQ,OAFF,mBAEjDqB,EAFiD,KAE1C8O,EAF0C,KAGhD/O,EAAK6O,EAAO7O,GAElB,SAASsM,EAAchJ,GACR,UAAVA,EAAEuG,KACLvG,EAAEoH,OAAOiB,OAIX,SAASa,EAAWlJ,GAEf6J,EAAc,IACjBC,EAAe,GACO,SAAlB9J,EAAEoH,OAAO9L,KACRkQ,EAAexL,EAAEoH,OAAOE,QAC3BmE,GAAS,GACT5E,EAAQ,qBAAsB,CAAEnK,KAAIgP,WAAWH,EAAOjQ,KAAMqQ,YAAYJ,EAAOjE,SAE/EmE,GAAS,GAGV5E,EAAQ,qBAAsB,CAAEnK,KAAKgP,WAAWH,EAAOjQ,KAAMqQ,YAAYJ,EAAOjE,SAKnF,SAASwB,EAAa9I,GACrB,IAAI1E,EAAO0E,EAAEoH,OAAO9L,KAChBgM,EAAQtH,EAAEoH,OAAOE,MACR,SAAThM,GAA4B,UAATA,GACtBwO,EAAeD,EAAc,GAG9BhD,EAAQ,gBAAiB,CAAEvL,OAAMgM,QAAO5K,OAWzC,SAASkP,EAAStS,GAEjB,IAAIgO,EACJ,IACCA,EAAQlQ,EAAE8B,SAASqS,EAAOjS,GAAlB,eAA0BjB,IACjC,MAAO+I,GACRvE,QAAQF,MAAMrD,EAAG8H,EAAI9F,MAEtB,OAAOgM,EAGR,OACC,yBAAKjB,UAAS,UAAKC,IAAO6D,SAAZ,YAAwBxN,GAAS2J,IAAO8D,gBACrD,yBAAK/D,UAAS,UAAKC,IAAOsB,UAAZ,YAAyBtB,IAAOuF,aAC7C,2BAAOnQ,KAAK,OAAOJ,KAAI,OAAUgM,MAAOiE,EAAOjQ,KAAMwM,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,UACvI,2BAAO5B,QAAQ,SAAf,KACA,2BAAOnM,KAAK,OAAOJ,KAAI,QAAWgM,MAAOiE,EAAOjE,MAAOQ,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,WAG1I,yBAAKpD,UAAWC,IAAOwF,iBACvB,2BAAOpQ,KAAK,OAAOJ,KAAI,OAAUgM,MAAOiE,EAAOQ,KAAMjE,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,aACtI,2BAAO3B,SA7BV,SAA4B9H,GAC3B,IAAIsH,EAAQtH,EAAEoH,OAAOE,MAChB3K,IACJkK,EAAQ,gBAAiB,CAAEvL,KAAK,QAASgM,QAAO5K,OAChDmK,EAAQ,qBAAsB,CAAEnK,KAAIgP,WAAWH,EAAOjQ,KAAMqQ,YAAYK,OAAO1E,OAyBzChM,KAAK,QAAQI,KAAK,QAAQ2C,IAAKuN,EAAS,QAASxN,IAAKwN,EAAS,SAAUtE,MAAOsE,EAAS,SAAUK,KAAML,EAAS,YAAavF,UAAWC,IAAOiF,SACtL,2BAAO7P,KAAK,OAAOJ,KAAI,QAAWgM,MAAOiE,EAAOW,MAAOpE,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,aAG1I,yBAAKpD,UAAS,UAAKC,IAAOsB,YACzB,2BAAOC,QAAQ,YAAf,eACA,2BAAOnM,KAAK,OAAOJ,KAAI,WAAcgM,MAAOiE,EAAOxM,SAAU+I,SAAUgB,EAAcV,UAAWY,EAAeV,OAAQY,EAAYO,YAAY,eASnJ,SAAS+B,EAAelQ,GAEvB,OADa,+BACC6Q,KAAK7Q,IAAUA,EAAK8Q,OAAS,ECrF5C,IAoBeC,EApBG,SAAC,GAA0B,IAAxBxF,EAAuB,EAAvBA,QAASyF,EAAc,EAAdA,QAM7B,OACC,yBAAKjG,UAAWC,IAAO8E,UACrB,yBAAKlD,QANR,SAAmBlI,GAClB6G,EAAQ,cAKmBR,UAAS,UAAKC,IAAO+E,YAC7C,uBAAGhF,UAAS,iBAGbiG,EAAQ5D,KAAKnQ,KAAI,SAAAgT,GAAM,OACtB,kBAAC,EAAD,CAAgBhF,IAAKgF,EAAO7O,GAAImK,QAASA,EAAS0E,OAAQA,SC0BhDgB,GAnCC,SAAC,GAAuB,IAAtB1F,EAAqB,EAArBA,QAAShB,EAAY,EAAZA,OAAY,EACAD,mBAAS,GADT,mBAC/B4G,EAD+B,KAClBC,EADkB,KAGtC,OACC,yBAAKpG,UAAWC,IAAOoG,SACtB,yBAAKrG,UAAWC,IAAOqG,MACtB,yBAAKtG,UAAWC,IAAOsG,eACtB,yBAAK1E,QAAS,kBAAMuE,EAAe,IACnCpG,UAAS,UAAKC,IAAOuG,SAAZ,YAAsC,IAAdL,GAAmBlG,IAAOwG,mBAC1D,uBAAGzG,UAAU,gBAEd,yBAAK6B,QAAS,kBAAMuE,EAAe,IACnCpG,UAAS,UAAKC,IAAOuG,SAAZ,YAAsC,IAAdL,GAAmBlG,IAAOwG,mBAC1D,uBAAGzG,UAAU,4BAEd,yBAAK6B,QAAS,kBAAMuE,EAAe,IACnCpG,UAAS,UAAKC,IAAOuG,SAAZ,YAAsC,IAAdL,GAAmBlG,IAAOwG,mBAC1D,uBAAGzG,UAAU,uBAEd,yBAAK6B,QAAS,kBAAMuE,EAAe,IACnCpG,UAAS,UAAKC,IAAOuG,SAAZ,YAAsC,IAAdL,GAAmBlG,IAAOwG,mBAC1D,uBAAGzG,UAAU,wBAIhB,yBAAKA,UAAWC,IAAOyG,SACP,IAAdP,GAAmB,kBAAC,EAAD,CAAS3F,QAASA,EAASpL,KAAMoK,EAAOpK,KAAMe,WAAYqJ,EAAOrJ,aACtE,IAAdgQ,GAAmB,kBAAC,EAAD,CAAa/D,MAAO5C,EAAO4C,MAAOpQ,MAAOwN,EAAOxN,MAAOwO,QAASA,IACrE,IAAd2F,GAAmB,kBAAC,EAAD,CAAS3F,QAASA,EAAS/F,WAAY+E,EAAO/E,aACnD,IAAd0L,GAAmB,kBAAC,EAAD,CAAW3F,QAASA,EAASyF,QAASzG,EAAOyG,QAASjU,MAAOwN,EAAOxN,WC5BtF2U,GAAY,GAClB5V,EAAE8B,SAAS,gBAAiB8T,IAC5B5V,EAAE8B,SAAS,MAAO8T,IAElB,IAAMC,GAAkB,CACtB,CACE3N,QAAQ,EACRnC,SAAU,YAEVkE,MAAO,GACPtG,OAAQ,SACRgB,MAAO,EACPwB,UAAW,IAEXP,MAAO,IACPD,OAAQ,IACRG,QAAS,EACTD,QAAS,IAETmC,mBAAoB,IACpBmC,gBAAiB,GACjBrC,gBAAiB,EACjBC,aAAc,GAEhB,CACE3D,MAAO,CACLqE,EAAG,uBACHvC,EAAG,wBACH8C,QAAS,EACTpD,MAAO,EACPwB,EAAG,GACHwC,EAAG,GACHpI,EAAG,KAEL4D,WAAY,CACVI,MAAO,OACPpB,MAAO,UAiQE0R,OA3Pf,WAAe,MAEWtH,mBAAS,CAAE8C,KAAM,CAAC,CAAEzI,KAAM,gBAAiBvD,GAAI,EAAGpB,KAAM,MAAQqN,MAAO,IAFlF,mBAERF,EAFQ,KAED0E,EAFC,OAGCvH,mBAASoH,IAAlB3U,EAHQ,sBAIeuN,mBAAS,CACnC8C,KAAM,CACJ,CAAEhM,GAAI,EAAGpB,KAAM,IAAKgM,MAAO,EAAGyE,MAAO,EAAGG,MAAO,EAAGnN,SAAU,MAC9DqO,OAAQ,IAPG,mBAIRd,EAJQ,KAICe,EAJD,OASuCzH,mBAAS,CAAC,IATjD,mBASR0H,EATQ,KASaC,EATb,OAYqB3H,mBAAS,CACzC7E,MAAO,CAAC,CACN,CACEzB,QAAQ,EACRnC,SAAU,YAEVkE,MAAO,OACPtG,OAAQ,IACRgB,MAAO,EACPwB,UAAW,IAEXP,MAAO,IACPD,OAAQ,IACRG,QAAS,GACTD,QAAS,IAETmC,mBAAoB,IACpBmC,gBAAiB,GACjBrC,gBAAiB,EACjBC,aAAc,GAEhB,CACE3D,MAAO,CACLqE,EAAG,uBACHvC,EAAG,wBACH8C,QAAS,EACTpD,MAAO,EACPwB,EAAG,GACHwC,EAAG,GACHpI,EAAG,KAEL4D,WAAY,CACVI,MAAO,OACPpB,MAAO,SAER,EAAG,EAAG,KAGX4R,OAAQ,EACRlR,SAAU,EACVM,WAAY,CAAEI,MAAO,KAAMpB,MAAO,UApDvB,mBAYRsF,EAZQ,KAYI0M,EAZJ,OAuDC5H,mBACZ,IAAI/E,GADD0E,EAvDQ,sBA2DSK,mBAAS,MA3DlB,mBA2DRnK,EA3DQ,KA2DFgS,EA3DE,OA4DqB7H,mBAAS,CACzChJ,MAAO,KAAMpB,MAAO,OAAQmF,QAAQ,EACpCD,WAAY,OACZX,KAAM,IAAK0C,QAAS,IA/DT,mBA4DRjG,EA5DQ,KA4DIkR,EA5DJ,OAkEiB9H,mBAAS,GAlE1B,mBAkER1J,EAlEQ,KAkEEyR,EAlEF,OAmEA/H,mBAAS,GAAjBgI,EAnEQ,oBAmPb,OA1KA5H,qBAAU,WACRT,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASmE,GACxC+I,EAAMxD,cACNwD,EAAMpD,OAAO1G,GACbkS,EAAYzR,EAAW,KACtB,CAAC0R,IAsKF,yBAAKvH,UAAWC,IAAO4G,KACrB,kBAAC,EAAD,CAAM3H,MAAOA,EAAO9J,KAAMA,EAAMS,SAAUA,IAC1C,kBAAC,GAAD,CAAS2K,QApKb,SAAiBgH,EAAQd,GACvB,OAAQc,GACN,IAAK,OACY,MAAXd,GACFxH,EAAMpD,OAAO,MACbsL,EAAQ,OACY,MAAXV,IACTxH,EAAMpD,OAAO,MACbsL,EAAQ,OAGV,MAGF,IAAK,aACH,IAAIK,EAAQ,eAAQtR,GACpBsR,EAASf,EAAQ5F,OAAS4F,EAAQ7F,OAClCwG,EAAcI,GAEdvI,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASyV,GACxCvI,EAAMpD,OAAO1G,GAEb,MAGF,IAAK,kBACH0R,EAASJ,EAAQrE,MAEjBnD,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASmE,GACxC+I,EAAMxD,cACNwD,EAAMpD,OAAO1G,GAEb,MAGF,IAAK,mBACH,IAAIkG,EAAQb,EAAWC,MAAMa,WAAU,SAAAZ,GAAC,OAAIA,EAAE,IAAM+L,EAAQrQ,MAC5DoE,EAAWC,MAAMY,GAAO,GAAGoL,EAAQzR,MAAQyR,EAAQzF,MACnDkG,EAAc1M,GAEd,MAGF,IAAK,yBACHyE,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASmE,GACxC+I,EAAMwI,oBAAoBhB,EAAQrQ,IAClC6I,EAAMpD,OAAO1G,GAEb,MAIF,IAAK,UACH,IAAIuS,EAAQlN,EAAWsM,OACnBa,EAAU,CAAC,eAAKhB,GAAgB,IAAtB,eAAiCA,GAAgB,IAAMe,EAAO,EAAG,IAC/ElN,EAAWsM,SACXtM,EAAWC,MAAX,CAAoBkN,GAApB,mBAAgCnN,EAAWC,QAC3CyM,EAAc1M,GACdyE,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASmE,GACxC+I,EAAMwI,oBAAoBC,GAC1BzI,EAAMpD,OAAO1G,GAEb,MAGF,IAAK,oBACH,IAAIkG,EAAQb,EAAWC,MAAMa,WAAU,SAAAZ,GAAC,OAAIA,EAAE,IAAM+L,EAAQrQ,MAC5DoE,EAAWC,MAAMY,GAAO,GAAGrC,QAAUwB,EAAWC,MAAMY,GAAO,GAAGrC,OAChEkO,EAAc1M,GACdyE,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASmE,GACxC+I,EAAMwI,oBAAoBhB,EAAQrQ,IAClC6I,EAAMpD,OAAO1G,GAEb,MAEF,IAAK,kBACH,IAAIkG,EAAQb,EAAWC,MAAMa,WAAU,SAAAZ,GAAC,OAAIA,EAAE,IAAM+L,EAAQrQ,MAC5DoE,EAAWC,MAAMY,GAAO,GAAGnG,MAA3B,eACKsF,EAAWC,MAAMY,GAAO,GAAGnG,MADhC,GAEKuR,EAAQvR,OAEbgS,EAAc1M,GACdyE,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASmE,GACxC+I,EAAMpD,OAAO1G,GAEb,MAEF,IAAK,aACHqF,EAAWC,MAAQD,EAAWC,MAAM8C,QAAO,SAAA7C,GAAC,OAAIA,EAAE,IAAM+L,EAAQrQ,MAChE8Q,EAAc1M,GACdyE,EAAM2I,OAAOnB,EAAQrQ,IACrB6I,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASmE,GACxC+I,EAAMpD,OAAO1G,GAEb,MAEF,IAAK,WACH,IAAIkG,EAAQb,EAAWC,MAAMa,WAAU,SAAAZ,GAAC,OAAIA,EAAE,IAAM+L,EAAQrQ,MAExDsR,EAAQlN,EAAWsM,OACnBa,EAAU,CAAC,eAAKnN,EAAWC,MAAMY,GAAO,IAA9B,eAAyCb,EAAWC,MAAMY,GAAO,IAAMqM,EAAOlN,EAAWC,MAAMY,GAAO,GAAI,IACxHb,EAAWsM,SACXtM,EAAWC,MAAX,sBACKD,EAAWC,MAAMoN,MAAM,EAAGxM,IAD/B,CAEEsM,GAFF,YAGKnN,EAAWC,MAAMoN,MAAMxM,KAE5B9E,QAAQC,IAAIkR,EAAOrM,EAAOb,EAAWC,OACrCyM,EAAc1M,GACdyE,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASmE,GACxC+I,EAAMwI,oBAAoBC,GAC1BzI,EAAMpD,OAAO1G,GAEb,MAGF,IAAK,YACH,IACI2S,EAAY,CAAE1R,GADN4P,EAAQc,OACS9R,KAAM,GAAIgM,MAAO,EAAGyE,MAAO,EAAGG,MAAO,EAAGnN,SAAU,KAC/EuN,EAAQc,SACRd,EAAQ5D,KAAR,CAAgB0F,GAAhB,mBAA8B9B,EAAQ5D,OACtC2E,EAAWf,GAEX,MAEF,IAAK,gBACH,IAAI3K,EAAQ2K,EAAQ5D,KAAK9G,WAAU,SAAA2J,GAAM,OAAIA,EAAO7O,IAAMqQ,EAAQrQ,MAClE4P,EAAQ5D,KAAK/G,GAAOoL,EAAQzR,MAAQyR,EAAQzF,MAC5C+F,EAAWf,GAEX,MAEF,IAAK,qBACHgB,EAAoB,GAAKpR,EACzBqR,EAAuBD,GACvB,IAAIe,EAASnS,EAEb,IACE7D,EAAM0U,EAAQrB,YAActU,EAAE8B,SAAS6T,EAAQpB,YAAatT,GAC5D,MAAO+I,GAEP,YADAvE,QAAQC,IAAIsE,EAAI9F,MAGlBgT,YAAW,WACLhB,EAAoB,KAAOe,IAC7B9I,EAAMzD,QAAQhB,EAAd,eAA+BzI,GAASmE,GACxC+I,EAAMxD,cACNwD,EAAMpD,OAAO1G,GACbkS,GAAY,SAAAY,GAAG,OAAIA,EAAM,QAE1B,GAMPZ,GAAY,SAAAY,GAAG,OAAIA,EAAM,MAQI1I,OAAQ,CAAEyG,UAAS7Q,OAAMqF,aAAYtE,aAAYiM,QAAOpQ,aC9RrEmW,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAA7S,GACLE,QAAQF,MAAMA,EAAM8E,a,kBExI5B1K,EAAOC,QAAU,CAAC,QAAU,yBAAyB,KAAO,sBAAsB,cAAgB,+BAA+B,SAAW,0BAA0B,iBAAmB,kCAAkC,QAAU,yBAAyB,WAAa,4BAA4B,mBAAqB,oCAAoC,uBAAyB,wCAAwC,+BAAiC,gDAAgD,YAAc,6BAA6B,UAAY,2BAA2B,iBAAmB,kCAAkC,oBAAsB,qCAAqC,sBAAwB,uCAAuC,yBAA2B,0CAA0C,UAAY,2BAA2B,SAAW,0BAA0B,cAAgB,+BAA+B,YAAc,6BAA6B,iBAAmB,kCAAkC,gBAAkB,iCAAiC,iBAAmB,kCAAkC,qBAAuB,sCAAsC,6BAA+B,8CAA8C,YAAc,6BAA6B,SAAW,0BAA0B,cAAgB,+BAA+B,WAAa,4BAA4B,gBAAkB,iCAAiC,OAAS,0B,mBCAz+CD,EAAOC,QAAU,CAAC,QAAU,6BAA6B,MAAQ,8B","file":"static/js/main.90749fa0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__wdYOQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Graf\":\"Graf_Graf__3IZHk\"};","import { create, all } from 'mathjs'\r\nconst config_mjs = { };\r\nconst math = create(all, config_mjs);\r\n\r\n\r\nexport const m = importCustom();\r\n\r\n\r\nfunction importCustom() {\r\n    math.import({\r\n        Sum: bigSigma,\r\n        S: bigSigma,\r\n        sigma: bigSigma,\r\n        Sigma: bigSigma,\r\n        Product: bigPi,\r\n        product: bigPi,\r\n        P: bigPi,\r\n        switch: switchF,\r\n        interp: interp,\r\n        interpolate: interp,\r\n        rotate4d: rotate4d\r\n      })\r\n    return math;\r\n}\r\n\r\n\r\nfunction bigSigma(args, math, scope) {\r\n    const str = args.map(function (arg) {\r\n      return arg.toString()\r\n    })\r\n    let [ind, a, b, expr] = str;\r\n  \r\n    let s = 0;\r\n    let exprCompiled = math.compile(expr);\r\n  \r\n    a = math.number(math.evaluate(a, scope));\r\n    b = math.number(math.evaluate(b, scope));\r\n    \r\n    for(let i = a; i <= b; i++) {\r\n      let plus = exprCompiled.evaluate({...scope, [ind]: i});\r\n      s = math.add(s, plus);\r\n    }\r\n    return s;\r\n  }\r\n  bigSigma.rawArgs = true;\r\n  //\"Sum(n, 0, 3, Sum(j, 0, 5, j)) \"\r\n  \r\n  function bigPi(args, math, scope) {\r\n    const str = args.map(function (arg) {\r\n      return arg.toString()\r\n    })\r\n    let [ind, a, b, expr] = str;\r\n  \r\n    let p = 1;\r\n    let exprCompiled = math.compile(expr);\r\n  \r\n    a = math.number(math.evaluate(a, scope));\r\n    b = math.number(math.evaluate(b, scope));\r\n    \r\n    for(let i = a; i <= b; i++) {\r\n      let plus = exprCompiled.evaluate({...scope, [ind]: i});\r\n      p = math.multiply(p, plus);\r\n    }\r\n    return p;\r\n  }\r\n  bigPi.rawArgs = true;\r\n\r\n  function switchF(x) {\r\n    return math.complex(x.im, x.re);\r\n  }\r\n\r\n  function interp(x, y, t) {\r\n    return math.add(math.multiply(x, 1-t), math.multiply(y, t));\r\n  }\r\n  function rotate4d(z, phi) {\r\n    return math.multiply(z, math.exp(math.complex(0, phi)))\r\n  }","/*import {create, all, complex, add, subtract, multiply, exp} from 'mathjs';\r\nconst config_mjs = { };\r\nconst math = create(all, config_mjs);*/\r\nimport { m } from '../utils/math';\r\nconst {complex, add, subtract, multiply, exp} = m;\r\n\r\nexport function calculateParametric(from, to, stepSize, f, fParametric) {\r\n\tconst lines = [[], []];\r\n\r\n\tlet diff = (to - from) > 0;\r\n\tlet dir;\r\n\tif (diff >= 0) {\r\n\t\tdir = 1;\r\n\t} else if (diff < 0) {\r\n\t\tdir = -1;\r\n\t}\r\n\tif (stepSize == 0) {\r\n\t\tstepSize = diff/10000;\r\n\t}\r\n\r\n\tconst xx = [];\r\n\tconst yy = [];\r\n\tfor (let i = from; i <= to; i+= stepSize) {\r\n\t\tlet x = fParametric(m.complex(i));\r\n\t\tlet y = f(x);\r\n\t\txx.push(x);\r\n\t\tyy.push(y);\r\n\t}\r\n\tlines[0].push([xx, yy]);\r\n\r\n\tlet info = {\r\n\t\tre: {\r\n\t\t\tmax: Math.max(from, to),\r\n\t\t\tmin: Math.min(from, to),\r\n\t\t},\r\n\t\tim: {\r\n\t\t\tmax: 0,\r\n\t\t\tmin: 0,\r\n\t\t},\r\n\t\tabs: {\r\n\t\t\tmax: Math.max(m.abs(from),\r\n\t\t\t\tm.abs(to)),\r\n\t\t\tmin: Math.min(0, m.abs(from),\r\n\t\t\t\tm.abs(to))\r\n\t\t}\r\n\t};\r\n\r\n\tlines.push(info)\r\n\treturn lines;\r\n}\r\n\r\nexport function calculateLine(x1, x2, nPoints, f) {\r\n\tconst xx = [];\r\n\tconst yy = [];\r\n\r\n\tnPoints = Math.round(nPoints);\r\n\r\n\tconst dx = multiply(subtract(x2, x1), 1 / (nPoints-1));\r\n\r\n\tfor (let i = 0; i < nPoints; i++) {\r\n\t\tlet x = add(x1, multiply(dx, i));\r\n\t\tlet y = f(x);\r\n\t\txx.push(x);\r\n\t\tyy.push(y);\r\n\t}\r\n\treturn [xx, yy];\r\n}\r\n\r\nexport function calculateCircle(center, radius, nPoints, f) {\r\n\tconst xx = [];\r\n\tconst yy = [];\r\n\r\n\tconst phi = 2* m.pi/nPoints;\r\n\r\n\tfor (let i = 0; i <= nPoints+1; i++) {\r\n\t\tlet x = add(center, complex(radius*m.cos(i*phi), radius*m.sin(i*phi)));\r\n\t\tlet y = f(x);\r\n\t\txx.push(x);\r\n\t\tyy.push(y);\r\n\t}\r\n\treturn [xx, yy];\r\n}\r\n\r\nexport function calculateGrid(center, w, h, angle, nLinesV, nLinesH, psPerLine, f) {\r\n\tconst lines = [[], []];\r\n\r\n\tlet nPointsv = psPerLine * 2*h/(w+h)\r\n\tlet nPointsh = psPerLine * 2*w/(w+h)\r\n\r\n\tlet dv = h/(nLinesH-1);\r\n\tif (nLinesH == 1)\r\n\t\tdv = 0;\r\n\r\n\tlet dh = w/(nLinesV-1);\r\n\tif (nLinesV == 1)\r\n\t\tdh = 0;\r\n\r\n\tconst ang1 = exp(multiply(complex(0, 1), angle));\r\n\tconst ang2 = exp(multiply(complex(0, 1), angle + m.pi / 2));\r\n\r\n\tconst v1 = subtract(center, multiply(h/2, ang2));\r\n\tconst v2 = add(center, multiply(h/2, ang2));\r\n\r\n\tconst h1 = subtract(center, multiply(w/2, ang1));\r\n\tconst h2 = add(center, multiply(w/2, ang1));\r\n\r\n\r\n\tfor (let i = -(nLinesV-1)/2; i <= (nLinesV-1)/2; i++) { // vertikalne \r\n\t\tlet line1 = calculateLine(add(v1, multiply(i * dh, ang1)),\r\n\t\t\tadd(v2, multiply(i * dh, ang1)), nPointsv, f);\r\n\t\tlines[1].push(line1);\r\n\t}\r\n\r\n\tfor (let i = -(nLinesH-1)/2; i <= (nLinesH-1)/2; i++) { // horizontalne \r\n\t\tlet line1 = calculateLine(add(h1, multiply(i * dv, ang2)),\r\n\t\t\tadd(h2, multiply(i * dv, ang2)), nPointsh, f);\r\n\t\tlines[0].push(line1);\r\n\t}\r\n\r\n\tlet info = {\r\n\t\tre: {\r\n\t\t\tmax: Math.max(add(v1, multiply(-w/2, ang1)).re,\r\n\t\t\t\tadd(v1, multiply(w/2, ang1)).re,\r\n\t\t\t\tadd(v2, multiply(-w/2, ang1)).re,\r\n\t\t\t\tadd(v2, multiply(w/2, ang1)).re,),\r\n\t\t\tmin: Math.min(add(v1, multiply(-w/2, ang1)).re,\r\n\t\t\tadd(v1, multiply(w/2, ang1)).re,\r\n\t\t\tadd(v2, multiply(-w/2, ang1)).re,\r\n\t\t\tadd(v2, multiply(w/2, ang1)).re,),\r\n\t\t},\r\n\t\tim: {\r\n\t\t\tmax: Math.max(add(v1, multiply(-w/2, ang1)).im,\r\n\t\t\t\tadd(v1, multiply(w/2, ang1)).im,\r\n\t\t\t\tadd(v2, multiply(-w/2, ang1)).im,\r\n\t\t\t\tadd(v2, multiply(w/2, ang1)).im,),\r\n\t\t\tmin: Math.min(add(v1, multiply(-w/2, ang1)).im,\r\n\t\t\t\tadd(v1, multiply(w/2, ang1)).im,\r\n\t\t\t\tadd(v2, multiply(-w/2, ang1)).im,\r\n\t\t\t\tadd(v2, multiply(w/2, ang1)).im,),\r\n\t\t},\r\n\t\tabs: {\r\n\t\t\tmax: Math.max(m.abs(add(v1, multiply(-w/2, ang1))),\r\n\t\t\t\tm.abs(add(v1, multiply(w/2, ang1))),\r\n\t\t\t\tm.abs(add(v2, multiply(-w/2, ang1))),\r\n\t\t\t\tm.abs(add(v2, multiply(w/2, ang1))),),\r\n\t\t\tmin: Math.min(0, m.abs(add(v1, multiply(-w/2, ang1))),\r\n\t\t\t\tm.abs(add(v1, multiply(w/2, ang1))),\r\n\t\t\t\tm.abs(add(v2, multiply(-w/2, ang1))),\r\n\t\t\t\tm.abs(add(v2, multiply(w/2, ang1))),)\r\n\t\t}\r\n\t};\r\n\r\n\tlines.push(info)\r\n\treturn lines;\r\n}\r\n\r\n\r\n\r\nexport function calculateGridPolar(center, w, h, angle, nLinesV, nLinesH, psPerLine, f) {\r\n\tconst lines = [[], []];\r\n\r\n\tlet r = w;\r\n\r\n\tlet nPointsr = psPerLine;\r\n\r\n\tlet nPointsc = 0;\r\n\tif (nLinesV > 0) {\r\n\t\tnPointsc = psPerLine * 2 * m.pi / nLinesV;\r\n\t}\r\n\r\n\r\n\tconst phi =  2*m.pi / nLinesH;\r\n\tconst ii = complex(0, 1);\r\n\r\n\tfor (let i = 0; i < nLinesH; i++) {\r\n\t\tlet line1 = calculateLine(center,\r\n\t\t\tadd(center, multiply(r, exp(multiply(ii, phi*i+angle)))), nPointsr, f);\r\n\t\tlines[0].push(line1);\r\n\t}\r\n\r\n\tlet line1 = calculateCircle(center, 0.001*(w/nLinesV), nPointsc*0.01, f);\r\n\tlines[1].push(line1);\r\n\r\n\tfor (let i = 1; i < nLinesV+1; i++) {\r\n\t\tlet line1 = calculateCircle(center, i*r/nLinesV, nPointsc*i, f);\r\n\t\tlines[1].push(line1);\r\n\t}\r\n\r\n\t\r\n\tlet info = {\r\n\t\tre: {\r\n\t\t\tmax: m.add(center, complex(r, 0)).re,\r\n\t\t\tmin: m.subtract(center, complex(r, 0)).re\r\n\t\t},\r\n\t\tim: {\r\n\t\t\tmax: m.add(center, complex(0, r)).im,\r\n\t\t\tmin: m.subtract(center, complex(0, r)).im\r\n\t\t},\r\n\t\tabs: {\r\n\t\t\tmax: m.abs(center) +  m.abs(r),\r\n\t\t\tmin: Math.max(0, m.abs(center) -  m.abs(r))\r\n\t\t}\r\n\t};\r\n\r\n\tlines.push(info)\r\n\treturn lines;\r\n}","import { calculateGrid, calculateGridPolar, calculateParametric } from './grid';\r\n\r\nimport { create, all } from 'mathjs';\r\nconst config_mjs = {};\r\nconst math = create(all, config_mjs);\r\n\r\n\r\n\r\n\r\nexport default class Grid {\r\n\r\n\tdataObjInit2d = {\r\n\t\tname: \"\",\r\n\t\tline: {\r\n\t\t\tcolor: \"rgba(35, 110, 160, 0.8)\"\r\n\t\t},\r\n\t\tmode: 'lines',\r\n\t\ttype: 'scatter'\r\n\t}\r\n\tdataObjInit3d = {\r\n\t\tname: \"\",\r\n\t\tline: {\r\n\t\t\tcolor: \"rgba(35, 110, 160, 0.8)\"\r\n\t\t},\r\n\t\tmode: 'lines',\r\n\t\ttype: 'scatter3d'\r\n\t}\r\n\r\n\r\n\r\n\r\n\tplt2d; plt3d;\r\n\tparams = { center: 0, nh: 0, nv: 0, angle: 0, space: 0, psPerSpace: 0, color: true };\r\n\tcomponent3;\r\n\tf;\r\n\tfParametric;\r\n\tid;\r\n\terror;\r\n\r\n\trevision = 0;\r\n\ta3dAxesInfo;\r\n\tmode;\r\n\r\n\tlines;\r\n\tdata2d = [];\r\n\tdata3d = [];\r\n\r\n\tsetPlot(plt2d, plt3d) {\r\n\t\tthis.plt2d = plt2d;\r\n\t\tthis.plt3d = plt3d;\r\n\t}\r\n\r\n\trefresh(params, component3, f, fParametric) {\r\n\t\tthis.params = { ...params[0], ...params[1] };\r\n\t\tthis.id = params[2];\r\n\t\tthis.error = params[4];\r\n\r\n\t\tthis.f = f;\r\n\t\tthis.fParametric = fParametric;;\r\n\r\n\r\n\t\tif (this.params.component3.zAxis === 'auto') {\r\n\t\t\tthis.component3 = { ...component3 };\r\n\t\t} else {\r\n\t\t\tthis.component3 = { ...this.params.component3 };\r\n\t\t}\r\n\r\n\t\tif (this.component3.color === 'auto') {\r\n\t\t\tif (this.component3.zAxis === 're') {\r\n\t\t\t\tthis.component3.color = 'im';\r\n\t\t\t} else if (this.component3.zAxis === 'im') {\r\n\t\t\t\tthis.component3.color = 're';\r\n\t\t\t} else if (this.component3.zAxis === 'abs') {\r\n\t\t\t\tthis.component3.color = 'arg';\r\n\t\t\t} else if (this.component3.zAxis === 'arg') {\r\n\t\t\t\tthis.component3.color = 'abs';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.revision++;\r\n\t}\r\n\r\n\r\n\trecalculate() {\r\n\t\tconsole.log(`${this.id} _ Recalculating`);\r\n\t\tlet height = this.params.height === '=' ? this.params.width : this.params.height;\r\n\t\tlet nLinesH = this.params.nLinesH === '=' ? this.params.nLinesV : this.params.nLinesH;\r\n\t\tif (this.params.gridType === 'cartesian') {\r\n\t\t\tthis.lines = calculateGrid(this.params.center, this.params.width, height, this.params.angle, this.params.nLinesV, nLinesH, this.params.psPerLine, this.f);\r\n\t\t} else if (this.params.gridType === 'polar') {\r\n\t\t\tthis.lines = calculateGridPolar(this.params.center, this.params.width, height, this.params.angle, this.params.nLinesV, nLinesH, this.params.psPerLine, this.f);\r\n\t\t}else if (this.params.gridType === 'parametric') {\r\n\t\t\tthis.lines = calculateParametric(this.params.fromParametric, this.params.toParametric, this.params.stepSizeParametric, this.f, this.fParametric);\r\n\t\t}\r\n\t\tthis.info = this.lines[2];\r\n\t}\r\n\r\n\tredraw(mode, globalInfo) {\r\n\t\tif (this.params.active) {\r\n\t\t\tconsole.log(`${this.id} _ Redrawing: ${mode}`);\r\n\r\n\t\t\tif (mode === '3d' && this.plt2d != undefined) {\r\n\t\t\t\tthis.data3d = this.linesToData3d(globalInfo);\r\n\t\t\t\tthis.mode = mode;\r\n\t\t\t\treturn this.data3d;\r\n\r\n\t\t\t} else if (mode === '2d') {\r\n\t\t\t\tthis.data2d = this.linesToData2d();\r\n\t\t\t\tthis.mode = mode;\r\n\t\t\t\treturn this.data2d;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn [];\r\n\t}\r\n\r\n\r\n\tlinesToData2d() {\r\n\t\tlet newData = [];\r\n\t\tthis.lines[0].forEach((line) => {\r\n\t\t\tthis.addLineToData2d(newData, line, '--', this.params.color.h);\r\n\t\t})\r\n\t\tthis.lines[1].forEach((line) => {\r\n\t\t\tthis.addLineToData2d(newData, line, '|', this.params.color.v);\r\n\t\t})\r\n\t\treturn newData;\r\n\t}\r\n\r\n\taddLineToData2d(data, line, name, color) {\r\n\t\tlet xx, yy;\r\n\t\tif (this.component3.base !== 'id') {\r\n\t\t\t[xx, yy] = line;\r\n\t\t} else {\r\n\t\t\t[yy, xx] = line;\r\n\t\t}\r\n\t\t\r\n\t\tlet x = yy.map((e) => e.re);\r\n\t\tlet y = yy.map((e) => e.im);\r\n\t\tlet text = xx.map((e, i) => `f( ${math.format(e, 2)} )<br><i>${math.format(yy[i], 2)}</i>`);\r\n\r\n\t\tdata.push({\r\n\t\t\t...this.dataObjInit2d, name, x, y, hovertemplate: text,\r\n\t\t\topacity: this.params.color.opacity,\r\n\t\t\tline: {\r\n\t\t\t\tcolor: color,\r\n\t\t\t\twidth: this.params.color.width\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\r\n\r\n\tlinesToData3d(globalInfo) {\r\n\t\tlet newData = [];\r\n\t\tlet info = this.lines[2];\r\n\t\tthis.lines[0].forEach((line) => {\r\n\t\t\tthis.addLineToData3d(newData, line, '--', info, this.params.color.h, globalInfo);\r\n\t\t})\r\n\t\tthis.lines[1].forEach((line) => {\r\n\t\t\tthis.addLineToData3d(newData, line, '|', info, this.params.color.v, globalInfo);\r\n\t\t})\r\n\t\treturn newData;\r\n\t}\r\n\r\n\r\n\taddLineToData3d(data, line, name, info, color, globalInfo) {\r\n\t\tlet xx, yy;\r\n\t\tlet text;\r\n\t\tif (this.component3.base !== 'id') {\r\n\t\t\t[xx, yy] = line;\r\n\t\t\ttext = xx.map((e, i) => `f( ${math.format(e, 2)} )<br><i>${math.format(yy[i], 2)}</i>`);\r\n\t\t} else {\r\n\t\t\t[yy, xx] = line;\r\n\t\t\ttext = yy.map((e, i) => `f( ${math.format(e, 2)} )<br><i>${math.format(xx[i], 2)}</i>`);\r\n\t\t}\r\n\r\n\t\tlet x = yy.map((e) => e.re);\r\n\t\tlet y = yy.map((e) => e.im);\r\n\t\tlet z = 0;\r\n\t\tlet c = 0;\r\n\r\n\t\tlet isZDefined = true;\r\n\t\tif (this.component3.zAxis === 'im') {\r\n\t\t\tz = xx.map((e) => e.im);\r\n\t\t} else if (this.component3.zAxis === 're') {\r\n\t\t\tz = xx.map((e) => e.re);\r\n\t\t} else if (this.component3.zAxis === 'abs') {\r\n\t\t\tz = xx.map((e) => math.abs(e));\r\n\t\t} else if (this.component3.zAxis === 'arg') {\r\n\t\t\tz = xx.map((e) => math.arg(e));\r\n\t\t} else {\r\n\t\t\tz = xx.map((e) => 0);\r\n\t\t\tisZDefined = false;\r\n\t\t}\r\n\r\n\t\tlet line1 = {};\r\n\t\tif (this.component3.color !== 'none' && isZDefined == true) {\r\n\t\t\tlet cmin = 0;\r\n\t\t\tlet cmax = 0;\r\n\t\t\tif (this.component3.color === 'im') {\r\n\t\t\t\tc = xx.map((e) => e.im);\r\n\t\t\t\tcmin = globalInfo.im.min;\r\n\t\t\t\tcmax = globalInfo.im.max;\r\n\t\t\t} else if (this.component3.color === 're') {\r\n\t\t\t\tc = xx.map((e) => e.re);\r\n\t\t\t\tcmin = globalInfo.re.min;\r\n\t\t\t\tcmax = globalInfo.re.max;\r\n\t\t\t} else if (this.component3.color === 'arg') {\r\n\t\t\t\tc = xx.map((e) => math.arg(e));\r\n\t\t\t\tcmin = -3.141593;\r\n\t\t\t\tcmax = 3.141593;\r\n\t\t\t} else if (this.component3.color === 'abs') {\r\n\t\t\t\tc = xx.map((e) => math.abs(e));\r\n\t\t\t\tcmin = globalInfo.abs.min;\r\n\t\t\t\tcmax = globalInfo.abs.max;\r\n\t\t\t}\r\n\r\n\t\t\tline1 = {\r\n\t\t\t\twidth: this.params.color.width * 2,\r\n\t\t\t\tcolor: c,\r\n\t\t\t\tcolorscale: this.component3.colorscale,\r\n\t\t\t\tcmin, cmax\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tline1 = {\r\n\t\t\t\tcolor: color,\r\n\t\t\t\twidth: this.params.color.width * 2\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tdata.push({\r\n\t\t\t...this.dataObjInit3d, name, x, y, z, hovertemplate: text,\r\n\t\t\topacity: this.params.color.opacity,\r\n\t\t\tline: line1\r\n\t\t});\r\n\r\n\t\tif (this.component3.hybrid) {\r\n\t\t\tlet z = 0;\r\n\t\t\tlet c = 0;\r\n\r\n\t\t\tlet isZDefined = true;\r\n\t\t\tif (this.component3.zAxis === 'im') {\r\n\t\t\t\tz = xx.map((e) => e.re);\r\n\t\t\t} else if (this.component3.zAxis === 're') {\r\n\t\t\t\tz = xx.map((e) => e.im);\r\n\t\t\t} else if (this.component3.zAxis === 'arg') {\r\n\t\t\t\tz = xx.map((e) => -3.141593);\r\n\t\t\t\t//isZDefined = false;\r\n\t\t\t} else if (this.component3.zAxis === 'abs') {\r\n\t\t\t\tz = xx.map((e) => 0);\r\n\t\t\t\t//isZDefined = false;\r\n\t\t\t} else {\r\n\t\t\t\tz = xx.map((e) => 0);\r\n\t\t\t\tisZDefined = false;\r\n\t\t\t}\r\n\r\n\t\t\tlet line1 = {};\r\n\t\t\tif (this.component3.color !== 'none' && isZDefined == true) {\r\n\t\t\t\tlet cmin = 0;\r\n\t\t\t\tlet cmax = 0;\r\n\t\t\t\tif (this.component3.color === 'im') {\r\n\t\t\t\t\tc = xx.map((e) => e.im);\r\n\t\t\t\t\tcmin = globalInfo.im.min;\r\n\t\t\t\t\tcmax = globalInfo.im.max;\r\n\t\t\t\t} else if (this.component3.color === 're') {\r\n\t\t\t\t\tc = xx.map((e) => e.re);\r\n\t\t\t\t\tcmin = globalInfo.re.min;\r\n\t\t\t\t\tcmax = globalInfo.re.max;\r\n\t\t\t\t} else if (this.component3.color === 'arg') {\r\n\t\t\t\t\tc = xx.map((e) => math.arg(e));\r\n\t\t\t\t\tcmin = -3.141593;\r\n\t\t\t\t\tcmax = 3.141593;\r\n\t\t\t\t} else if (this.component3.color === 'abs') {\r\n\t\t\t\t\tc = xx.map((e) => math.abs(e));\r\n\t\t\t\t\tcmin = globalInfo.abs.min;\r\n\t\t\t\t\tcmax = globalInfo.abs.max;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tline1 = {\r\n\t\t\t\t\twidth: this.params.color.width * 2,\r\n\t\t\t\t\tcolor: c,\r\n\t\t\t\t\tcolorscale: this.component3.colorscale,\r\n\t\t\t\t\tcmin, cmax,\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tline1 = {\r\n\t\t\t\t\tcolor: color,\r\n\t\t\t\t\twidth: this.params.color.width * 2,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tdata.push({\r\n\t\t\t\t...this.dataObjInit3d, name, x, y, z,\r\n\t\t\t\thoverinfo: 'skip',\r\n\t\t\t\topacity: this.params.color.opacity*0.18,\r\n\t\t\t\tline: line1\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}","import GridClass from './GridClass';\r\nimport { m } from '../utils/math';\r\n\r\n\r\nexport default class Scene {\r\n\tgridParams = [];\r\n\tscope;\r\n\r\n\tgrids = [];\r\n\r\n\tplt2d; plt3d;\r\n\tcomponent3;\r\n\r\n\trevision = 0;\r\n\r\n\ta3dAxesInfo;\r\n\tmode;\r\n\r\n\tlimitInfo;\r\n\r\n\tdata2d = [];\r\n\tdata3d = [];\r\n\r\n\tsetPlot(plt2d, plt3d) {\r\n\t\tthis.plt2d = plt2d;\r\n\t\tthis.plt3d = plt3d;\r\n\r\n\t\tthis.grids.forEach(g => g.setPlot(plt2d, plt3d));\r\n\t}\r\n\r\n\trefresh(params, scope, component3) {\r\n\t\tthis.gridParams = params;\r\n\t\tthis.scope = scope;\r\n\t\tthis.component3 = { ...component3 };\r\n\r\n\t\tthis.gridParams.grids.forEach(gP => {\r\n\t\t\tlet params = [{ ...gP[0] }, { ...gP[1] }, gP[2], gP[3], gP[4]]; // Zaradi poznejšega spreminjanja parametrov potrebujemo `kopijo` objektov\r\n\t\t\tlet id = gP[2];\r\n\t\t\tlet rev = gP[3];\r\n\t\t\tlet err = gP[4];\r\n\t\t\terr[0] = null;\r\n\r\n\t\t\tlet f;\r\n\t\t\tlet f1;\r\n\r\n\t\t\tif (params[1].color.a !== undefined) {\r\n\t\t\t\tparams[1].color.h = '=';\r\n\t\t\t\tlet { r, g, b, a } = params[1].color;\r\n\t\t\t\tparams[1].color.v = `rgb(${r},${g},${b})`;\r\n\t\t\t\tparams[1].color.opacity = a;\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\t// poskusi pretvoriti vse matematične zapise parametrov v številke\r\n\t\t\t\tif (params[0].funct == '') {\r\n\t\t\t\t\tparams[0].funct = 'x';\r\n\t\t\t\t}\r\n\t\t\t\tlet fCompiled = m.compile(params[0].funct);\r\n\t\t\t\tf = x => fCompiled.evaluate({ x, ...scope })\r\n\t\t\t\tf(m.complex(1.2345, 1.23456));\r\n\r\n\t\t\t\tif (params[0].gridType === 'parametric') {\r\n\t\t\t\t\tif (params[0].functParametric == '') {\r\n\t\t\t\t\t\tparams[0].functParametric = 't';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlet fCompiled1 = m.compile(params[0].functParametric);\r\n\t\t\t\t\tf1 = t => fCompiled1.evaluate({ t, ...scope })\r\n\t\t\t\t\tf1(m.complex(1.2345, 1.23456));\r\n\r\n\t\t\t\t\tparams[0].stepSizeParametric = m.evaluate(params[0].stepSizeParametric, scope);\r\n\t\t\t\t\tparams[0].fromParametric = m.evaluate(params[0].fromParametric, scope);\r\n\t\t\t\t\tparams[0].toParametric = m.evaluate(params[0].toParametric, scope);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparams[0].center = m.evaluate(params[0].center, scope);\r\n\t\t\t\t\tparams[0].angle = m.evaluate(params[0].angle, scope);\r\n\t\t\t\t\tparams[0].psPerLine = m.evaluate(params[0].psPerLine, scope);\r\n\t\t\t\t\tparams[0].width = m.evaluate(params[0].width, scope);\r\n\t\t\t\t\tparams[0].nLinesV = m.evaluate(params[0].nLinesV, scope);\r\n\t\t\t\t\tparams[0].height = params[0].height !== \"=\" ? m.evaluate(params[0].height, scope) : \"=\";\r\n\t\t\t\t\tparams[0].nLinesH = params[0].nLinesH !== \"=\" ? m.evaluate(params[0].nLinesH, scope) : \"=\";\r\n\t\t\t\t}\r\n\t\t\t\tparams[1].color.h = params[1].color.h == \"=\" ? params[1].color.v : params[1].color.h;\r\n\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.error(\"Error during grid parameter recalculation: \", e.message);\r\n\t\t\t\terr[0] = e.message;\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tlet index = this.grids.findIndex(g => g.id === id);\r\n\r\n\t\t\tlet grid;\r\n\t\t\tif (index === -1) { // Če mreža s tem indeksom še ne obstaja, naredi novo\r\n\t\t\t\tgrid = new GridClass;\r\n\t\t\t\tgrid.setPlot(this.plt2d, this.plt3d);\r\n\t\t\t\tthis.grids.push(grid);\r\n\t\t\t} else {\r\n\t\t\t\tgrid = this.grids[index];\r\n\t\t\t}\r\n\r\n\t\t\tgrid.refresh(params, component3, f, f1);\r\n\t\t})\r\n\r\n\t\tthis.revision++;\r\n\t}\r\n\r\n\r\n\r\n\trecalculate() { // Na novo preračuna vse točke vseh mrež\r\n\t\tthis.grids.forEach(grid => {\r\n\t\t\tif (grid.error[0] != null) return;\r\n\t\t\tif (grid.params.active == false) return;\r\n\t\t\tgrid.recalculate();\r\n\t\t})\r\n\t\tthis.recaluclateLimitInfo();\r\n\t}\r\n\r\n\trecalculateSpecific(id) {\r\n\t\tlet index = this.grids.findIndex(g => g.id === id);\r\n\t\tif (index !== -1) {\r\n\t\t\tlet grid = this.grids[index];\r\n\t\t\tif (grid.error[0] != null) return;\r\n\t\t\tgrid.recalculate();\r\n\t\t}\r\n\t\tthis.recaluclateLimitInfo();\r\n\t}\r\n\r\n\tredraw(mode) {\r\n\t\tthis.mode = mode;\r\n\t\tlet start = true;\r\n\t\t\r\n\t\tthis.recaluclateLimitInfo();\r\n\t\tthis.get3dAxesInfo();\r\n\r\n\t\tthis.grids.forEach(grid => { // na novo pretvori točke vseh mrež v data\r\n\t\t\tif (start) {\r\n\t\t\t\tif (mode === '3d') {\r\n\t\t\t\t\tthis.data3d = [];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.data2d = [];\r\n\t\t\t\t}\r\n\t\t\t\tstart = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (grid.error[0] != null) return;\r\n\t\t\tif (grid.params.active == false) return;\r\n\t\t\tlet newData = grid.redraw(mode, this.limitInfo);\r\n\r\n\t\t\tif (mode === '3d') {\r\n\t\t\t\tthis.data3d = this.data3d.concat(newData);\r\n\t\t\t} else {\r\n\t\t\t\tthis.data2d = this.data2d.concat(newData);\r\n\t\t\t}\r\n\t\t})\r\n\t\tthis.recaluclateLimitInfo();\r\n\t}\r\n\r\n\r\n\r\n\r\n\r\n\trecaluclateLimitInfo() { // ugotovi največji razpon glede na dimenzije (pomebno za usklajenost barv različnih mrež)\r\n\t\tthis.limitInfo = { im: {}, re: {}, abs: {} };\r\n\t\tif (this.component3.base !== 'id') {\r\n\t\t\tlet start = true;\r\n\t\t\tthis.grids.forEach((grid, i) => {\r\n\t\t\t\tif (grid.error[0] != null) return;\r\n\t\t\t\tif (grid.params.active == false) return;\r\n\r\n\t\t\t\tlet info = grid.info;\r\n\t\t\t\tif (start) {\r\n\t\t\t\t\tthis.limitInfo = { im: { ...info.im }, re: { ...info.re }, abs: { ...info.abs } };\r\n\t\t\t\t\tstart = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst update = ax => {\r\n\t\t\t\t\t\tif (info[ax].min < this.limitInfo[ax].min) {\r\n\t\t\t\t\t\t\tthis.limitInfo[ax].min = info[ax].min;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (info[ax].max > this.limitInfo[ax].max) {\r\n\t\t\t\t\t\t\tthis.limitInfo[ax].max = info[ax].max;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tupdate('re');\r\n\t\t\t\t\tupdate('im');\r\n\t\t\t\t\tupdate('abs');\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tlet temp = {max: this.component3.baseIdZ, min: -this.component3.baseIdZ}\r\n\t\t\tthis.limitInfo = { im: temp, re: temp, abs: {...temp, min: 0} };\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tget3dAxesInfo() {  // določi razmerje stranic pri 3d\r\n\t\tlet rangeZ;\r\n\t\tlet rangeX = [-5, 5];\r\n\t\tlet rangeY = [-5, 5];\r\n\t\tlet aspectratio = 0;\r\n\t\tlet aspectmode = \"cube\";\r\n\t\tlet zaxis_title = this.getZAxisLabel(this.component3);\r\n\r\n\t\tif (this.plt2d.layout != undefined) {\r\n\t\t\tlet lengthX = Math.abs(this.plt2d.layout.xaxis.range[0] - this.plt2d.layout.xaxis.range[1])\r\n\t\t\tlet lengthY = Math.abs(this.plt2d.layout.yaxis.range[0] - this.plt2d.layout.yaxis.range[1])\r\n\r\n\t\t\tif (lengthX > lengthY) {\r\n\t\t\t\tlet center = (this.plt2d.layout.yaxis.range[0] + this.plt2d.layout.yaxis.range[1]) / 2\r\n\t\t\t\trangeX = this.plt2d.layout.xaxis.range;\r\n\t\t\t\trangeY = [center - lengthX / 2, center + lengthX / 2]\r\n\t\t\t} else {\r\n\t\t\t\tlet center = (this.plt2d.layout.xaxis.range[0] + this.plt2d.layout.xaxis.range[1]) / 2\r\n\t\t\t\trangeY = this.plt2d.layout.yaxis.range;\r\n\t\t\t\trangeX = [center - lengthY / 2, center + lengthY / 2]\r\n\t\t\t}\r\n\r\n\t\t\t[rangeZ, aspectratio] = this.getZRange(Math.max(lengthX, lengthY));\r\n\t\t\taspectmode = \"manual\";\r\n\t\t}\r\n\r\n\t\tthis.a3dAxesInfo = { rangeX, rangeY, rangeZ, aspectratio, aspectmode, zaxis_title };\r\n\t}\r\n\r\n\tgetZRange(lengthXY) {\r\n\t\tlet info = this.limitInfo;\r\n\t\tlet zMin = 0;\r\n\t\tlet zMax = 0;\r\n\t\tif (this.component3.zAxis === 're') {\r\n\t\t\tzMin = info.re.min;\r\n\t\t\tzMax = info.re.max;\r\n\t\t} else if (this.component3.zAxis === 'im') {\r\n\t\t\tzMin = info.im.min;\r\n\t\t\tzMax = info.im.max;\r\n\t\t} else if (this.component3.zAxis === 'abs') {\r\n\t\t\tzMin = info.abs.min;\r\n\t\t\tzMax = info.abs.max;\r\n\t\t} else if (this.component3.zAxis === 'arg') {\r\n\t\t\tzMin = -3.141593;\r\n\t\t\tzMax = 3.141593;\r\n\t\t}\r\n\r\n\t\tif (this.component3.hybrid && (this.component3.zAxis === 're' || this.component3.zAxis === 'im')) {\r\n\t\t\tzMin = Math.min(info.re.min, info.im.min);\r\n\t\t\tzMax = Math.max(info.re.max, info.im.max);\r\n\t\t}\r\n\r\n\t\tif (zMin - zMax == 0) {\r\n\t\t\tzMax = 0.001;\r\n\t\t}\r\n\r\n\t\tlet lengthZ = zMax - zMin;\r\n\t\tlet rangeZ = [zMin, zMax];\r\n\t\tlet aspect = { x: 1, y: 1, z: lengthZ / lengthXY };\r\n\r\n\t\treturn [rangeZ, aspect];\r\n\t}\r\n\tgetZAxisLabel(component3) {\r\n\t\tlet xfx = component3.base === 'id' ? 'f(x)' : 'x';\r\n\t\tif (component3.zAxis === 'im') {\r\n\t\t\treturn `Im(${xfx})`;\r\n\t\t} else if (component3.zAxis === 're') {\r\n\t\t\treturn `Re(${xfx})`;\r\n\t\t} else if (component3.zAxis === 'abs') {\r\n\t\t\treturn `abs(${xfx})`;\r\n\t\t} else if (component3.zAxis === 'arg') {\r\n\t\t\treturn `arg(${xfx})`;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tdelete(id) {\r\n\t\tthis.grids = this.grids.filter(g => g.id != id);\r\n\t}\r\n}","\r\nimport React, {useState, useEffect} from \"react\";\r\n\r\nimport styles from \"./Graf.module.css\";\r\n\r\nimport Plot from \"react-plotly.js\";\r\n/*\r\nimport Plotly from \"plotly.js-basic-dist\";\r\nimport createPlotlyComponent from \"react-plotly.js/factory\";\r\nconst Plot = createPlotlyComponent(Plotly);*/\r\n\r\n\r\n\r\n// ===== Config za Plotly\r\n\r\nconst layoutInit2d = {\r\n  title: null,\r\n  autosize: true,\r\n  uirevision: 1,\r\n  showlegend: false,\r\n  hovermode: 'closest',\r\n  dragmode: 'pan',\r\n  margin: {\r\n    l: 45,\r\n    r: 0,\r\n    b: 23,\r\n    t: 0,\r\n    pad: 4\r\n  },\r\n  xaxis: {\r\n    range: [-5, 5],\r\n    tickfont: {\r\n      color: \"#666\"\r\n    },\r\n    zerolinecolor: \"#555\",\r\n  },\r\n  yaxis: {\r\n    scaleanchor: \"x\",\r\n    range: [-5, 5],\r\n    ticksuffix:\"i\",\r\n    tickfont: {\r\n      color: \"#666\"\r\n    },\r\n    zerolinecolor: \"#555\",\r\n  },\r\n  \r\n}\r\n\r\nconst configInit={\r\n  responsive: true,\r\n  scrollZoom: true,\r\n  displayModeBar: true,\r\n  displaylogo: false,\r\n  modeBarButtonsToRemove: [\r\n    'lasso2d', 'toggleSpikelines', 'hoverCompareCartesian', 'hoverClosestCartesian', 'resetCameraLastSave3d'\r\n  ],\r\n  toImageButtonOptions: {\r\n    format: 'png',\r\n    filename: 'ComplexF',\r\n    height: 720,\r\n    width: 720,\r\n    scale: 3\r\n  }\r\n};\r\n\r\n// za 3d\r\nconst layoutInit3d = {\r\n  title: null,\r\n  autosize: true,\r\n  uirevision: 1,\r\n  showlegend: false,\r\n  hovermode: 'closest',\r\n  dragmode: 'turntable',\r\n  margin: {\r\n    l: 0,\r\n    r: 0,\r\n    b: 0,\r\n    t: 0,\r\n    pad: 4\r\n  },\r\n  xaxis: {\r\n    nticks: 10,\r\n    range: [-5, 5]\r\n  },\r\n  yaxis: {\r\n    scaleanchor: \"x\",\r\n    range: [-5, 5],\r\n  },\r\n  scene: {\r\n    xaxis:{title: 'Re(f(x))'},\r\n    yaxis:{title: 'Im(f(x))'},\r\n    zaxis:{title: 'z'},\r\n    aspectmode:'cube',\r\n    camera: {\r\n      eye: {\r\n        x: -0.2,//0\r\n        y: -1.8,//-0.00001,\r\n        z: 1.//2\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconst Graf = ({scene, mode, revision}) => {\r\n\r\n  let [plt2d, setPlt2d] = useState({\r\n    data: [],\r\n    layout: layoutInit2d,\r\n    config: configInit,\r\n    uirevision: 1\r\n  })\r\n  let [plt3d, setPlt3d] = useState({\r\n    data: [],\r\n    layout: layoutInit3d,\r\n    config: configInit,\r\n    uirevision: 1\r\n  })\r\n  \r\n  \r\n  useEffect(() => {\r\n    scene.setPlot(plt2d, plt3d);\r\n  }, []);\r\n  \r\n\r\n  useEffect(() => {\r\n    if (scene.mode === '3d') {\r\n        let   {rangeX, rangeY, rangeZ, aspectratio, aspectmode, zaxis_title} = scene.a3dAxesInfo;\r\n        let base = scene.component3.base === 'id' ? 'x' : 'f(x)';\r\n        let newLayout = plt3d.layout;\r\n\r\n        newLayout.scene.xaxis.range = rangeX;\r\n        newLayout.scene.yaxis.range = rangeY;\r\n        newLayout.scene.zaxis.range = rangeZ;\r\n        newLayout.scene.zaxis.title = zaxis_title;\r\n        newLayout.scene.xaxis.title = `Re(${base})`;\r\n        newLayout.scene.yaxis.title = `Im(${base})`;\r\n        newLayout.scene.aspectmode = aspectmode;\r\n        newLayout.scene.aspectratio = aspectratio;\r\n        setPlt3d({...plt3d, layout:newLayout});\r\n      }\r\n    \r\n  }, [scene.mode, scene.a3dAxesInfo]);\r\n\r\n  useEffect(() => {\r\n    setPlt2d({...plt2d, data:scene.data2d});\r\n  }, [scene.data2d]);\r\n  useEffect(() => {\r\n    setPlt3d({...plt3d, data:scene.data3d});\r\n  }, [scene.data3d]);\r\n\r\n\r\n  const update2d = (figure) => {\r\n    setPlt2d({config:plt2d.config, ...figure});\r\n  };\r\n  const update3d = (figure) => {\r\n    setPlt3d({config:plt3d.config, ...figure});\r\n  };\r\n\r\n\r\n  return (\r\n    <div className={styles.Graf}>{\r\n        (mode === '3d') ?\r\n          <Plot key={3}\r\n            style={{ width: '100%', height: '100%' }}\r\n            data={plt3d.data}\r\n            layout={plt3d.layout}\r\n            config={plt3d.config}\r\n            useResizeHandler={true}\r\n            onInitialized={update3d}\r\n            onUpdate={update3d}\r\n          /> \r\n          :\r\n          <Plot key={2}\r\n            style={{ width: '100%', height: '100%' }}\r\n            data={plt2d.data}\r\n            layout={plt2d.layout}\r\n            config={plt2d.config}\r\n            useResizeHandler={true}\r\n            revision={revision}\r\n            onInitialized={update2d}\r\n            onUpdate={update2d}\r\n          />\r\n      }</div>\r\n  )\r\n}\r\n\r\nexport default Graf","import React, {useState} from 'react'\r\n\r\nimport styles from './Sidebar.module.css'\r\n\r\nconst TabView = ({ onInput, mode, component3 }) => {\r\n\tlet [baseIdHeight, setBaseIdHeight] = useState(component3.baseIdZ)\r\n\r\n\tfunction change3dOptions(event) {\r\n\t\tlet which = event.target.name;\r\n\t\tlet selected = event.target.value;\r\n\t\tlet option;\r\n\r\n\t\tswitch (which) {\r\n\t\t\tcase 'base': {\r\n\t\t\t\toption = selected === 'x' ? 'id' : 'f';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'baseIdZ': {\r\n\t\t\t\toption = Math.abs(selected);\r\n\t\t\t\tif (isNaN(option)) option = 0;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'hybrid': {\r\n\t\t\t\toption = selected === 'on';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 'colorscale': {\r\n\t\t\t\tswitch (selected) {\r\n\t\t\t\t\tcase 'Green':\r\n\t\t\t\t\t\toption = 'Viridis';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Heat':\r\n\t\t\t\t\t\toption = 'RdBu';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Spectrum':\r\n\t\t\t\t\t\toption = 'Portland';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tswitch (selected) {\r\n\t\t\t\t\tcase 'Re(x)':\r\n\t\t\t\t\t\toption = 're';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'Im(x)':\r\n\t\t\t\t\t\toption = 'im';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'abs(x)':\r\n\t\t\t\t\t\toption = 'abs';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'arg(x)':\r\n\t\t\t\t\t\toption = 'arg';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'none':\r\n\t\t\t\t\t\toption = 'none';\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tif (selected.startsWith('auto')) {\r\n\t\t\t\t\t\t\toption = 'auto'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tonInput('component3', { option, which });\r\n\t}\r\n\r\n\tfunction set3dOptions(option) {\r\n\t\tlet selected = '';\r\n\t\tswitch (option) {\r\n\t\t\tcase 're':\r\n\t\t\t\tselected = 'Re(x)';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'im':\r\n\t\t\t\tselected = 'Im(x)';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'abs':\r\n\t\t\t\tselected = 'abs(x)';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'arg':\r\n\t\t\t\tselected = 'arg(x)';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'none':\r\n\t\t\t\tselected = 'none';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'auto':\r\n\t\t\t\tselected = setColorAuto();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn selected;\r\n\t}\r\n\tfunction setColormapOptions(option) {\r\n\t\tlet selected = '';\r\n\t\tswitch (option) {\r\n\t\t\tcase 'Viridis':\r\n\t\t\t\tselected = 'Green';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'RdBu':\r\n\t\t\t\tselected = 'Heat';\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'Portland':\r\n\t\t\t\tselected = 'Spectrum';\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t\treturn selected;\r\n\t}\r\n\r\n\tfunction setColorAuto() {\r\n\t\tlet label = '[';\r\n\t\tif (component3.zAxis === 're') {\r\n\t\t\tlabel += 'im';\r\n\t\t} else if (component3.zAxis === 'im') {\r\n\t\t\tlabel += 're';\r\n\t\t} else if (component3.zAxis === 'abs') {\r\n\t\t\tlabel += 'arg';\r\n\t\t} else if (component3.zAxis === 'arg') {\r\n\t\t\tlabel += 'abs';\r\n\t\t} else {\r\n\t\t\tlabel += 'none';\r\n\t\t}\r\n\t\tlabel += ']';\r\n\t\treturn label;\r\n\t}\r\n\r\n\tfunction handleKeyDownHeight(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\te.target.blur();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleBlurHeight(e) {\r\n\t\tchange3dOptions({target:{name: 'baseIdZ', value: baseIdHeight}});\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\r\n\t\t\t<div className={styles.formGroup}>\r\n\t\t\t\t<label htmlFor=\"base\">Base plane:</label>\r\n\t\t\t\t<select name=\"base\" value={component3.base === 'id' ? 'x' : 'f(x)'} onChange={change3dOptions}>\r\n\t\t\t\t\t<option>x</option>\r\n\t\t\t\t\t<option>f(x)</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\r\n\r\n\t\t\t<div className={styles.dimensionsSelector}>\r\n\t\t\t\t<span className={`${styles.dimensionsSelectorItem} ${mode == '2d' && styles.dimensionsSelectorItemSelected}`}\r\n\t\t\t\t\tonClick={() => onInput('2d3d', '2d')}>\r\n\t\t\t\t\t<i className=\"far fa-square\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span className={`${styles.dimensionsSelectorItem} ${mode == '3d' && styles.dimensionsSelectorItemSelected}`}\r\n\t\t\t\t\tonClick={() => onInput('2d3d', '3d')}>\r\n\t\t\t\t\t<i className=\"fas fa-cube\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t{mode === '3d' &&\r\n\t\t\t\t<div className={styles.viewOptions}>\r\n\t\t\t\t\t<div className={styles.formGroup}>\r\n\t\t\t\t\t\t<label htmlFor=\"zAxis\">3rd dimension:</label>\r\n\t\t\t\t\t\t<select name=\"zAxis\" value={set3dOptions(component3.zAxis)} onChange={change3dOptions}>\r\n\t\t\t\t\t\t\t<option>Re(x)</option>\r\n\t\t\t\t\t\t\t<option>Im(x)</option>\r\n\t\t\t\t\t\t\t<option>abs(x)</option>\r\n\t\t\t\t\t\t\t<option>arg(x)</option>\r\n\t\t\t\t\t\t\t<option>none</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{component3.base === 'id' &&\r\n\t\t\t\t\t\t<div className={styles.formGroup}>\r\n\t\t\t\t\t\t\t<label htmlFor=\"baseIdZ\">Height:</label>\r\n\t\t\t\t\t\t\t<input name=\"baseIdZ\" type=\"text\" onChange={(e) => setBaseIdHeight(e.target.value)} onKeyDown={handleKeyDownHeight} onBlur={handleBlurHeight} value={baseIdHeight} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<div className={styles.formGroup}>\r\n\t\t\t\t\t\t<label htmlFor=\"hybrid\">Double view:</label>\r\n\t\t\t\t\t\t<select name=\"hybrid\" value={component3.hybrid ? 'on' : 'off'} onChange={change3dOptions}>\r\n\t\t\t\t\t\t\t<option>off</option>\r\n\t\t\t\t\t\t\t<option>on</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<hr />\r\n\r\n\t\t\t\t\t<div className={styles.formGroup}>\r\n\t\t\t\t\t\t<label htmlFor=\"color\">Color dimension:</label>\r\n\t\t\t\t\t\t<select name=\"color\" value={set3dOptions(component3.color)} onChange={change3dOptions}>\r\n\t\t\t\t\t\t\t<option>auto {setColorAuto()}</option>\r\n\t\t\t\t\t\t\t<option>Re(x)</option>\r\n\t\t\t\t\t\t\t<option>Im(x)</option>\r\n\t\t\t\t\t\t\t<option>abs(x)</option>\r\n\t\t\t\t\t\t\t<option>arg(x)</option>\r\n\t\t\t\t\t\t\t<option>none</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className={styles.formGroup}>\r\n\t\t\t\t\t\t<label htmlFor=\"colorscale\">Colormap:</label>\r\n\t\t\t\t\t\t<select name=\"colorscale\" value={setColormapOptions(component3.colorscale)} onChange={change3dOptions}>\r\n\t\t\t\t\t\t\t<option>Green</option>\r\n\t\t\t\t\t\t\t<option>Heat</option>\r\n\t\t\t\t\t\t\t<option>Spectrum</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TabView\r\n","import React, { useState } from 'react'\r\n\r\nimport { m } from '../utils/math';\r\nimport styles from './Sidebar.module.css'\r\n\r\nconst TabFunction = ({ onInput, fList, scope }) => {\r\n\r\n\tlet [list, changeList] = useState({ list: fList.list, idNew: fList.idNew, textNew: \"\" });\r\n\r\n\r\n\tfunction handleChange(event) {\r\n\t\tlet which = event.target.name;\r\n\t\tlet text = event.target.value;\r\n\r\n\t\tif (which == 'newFunc') {\r\n\t\t\tchangeList({ ...list, textNew: text });\r\n\t\t} else {\r\n\t\t\tlet newList = [...list.list];\r\n\t\t\tlet i = newList.findIndex(f => f.id == which);\r\n\t\t\tnewList[i].text = text;\r\n\t\t\tnewList[i].error = false;\r\n\t\t\tchangeList({ ...list, list: newList });\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction handleKeyDown(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\thandleFuncChange(e.target.name, e.target.value, true, e.target)\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleBlur(e) {\r\n\t\thandleFuncChange(e.target.name, e.target.value, false);\r\n\t}\r\n\r\n\r\n\tfunction handleFuncChange(id, text, change, target) {\r\n\r\n\t\tif (id === 'newFunc') id = -1;\r\n\r\n\t\tif (text === '') { // Izbriše prazno polje\r\n\t\t\tchangeList({\r\n\t\t\t\t...list, list: list.list.filter(f => f.id != id)\r\n\t\t\t})\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tlet newList = [...list.list];\r\n\t\tlet i = newList.findIndex(f => f.id == id);\r\n\r\n\t\ttry { // Preveri pravilnost matematike, nadaljuje le ce ni napake\r\n\t\t\tm.evaluate(text, { ...scope });\r\n\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(err.message);\r\n\r\n\t\t\tif (!change && id != -1) {\r\n\t\t\t\tnewList[i].error = true;\r\n\t\t\t\tchangeList({ ...list, list: newList });\r\n\t\t\t}\r\n\t\t\treturn 'error';\r\n\t\t}\r\n\r\n\t\tif (change) {\r\n\t\t\tlet func = m.evaluate(text, scope);\r\n\t\t\tlet name;\r\n\r\n\t\t\tif (func != undefined && func.name != undefined) { // Ce ze obstaja f. z istim imenom, jo deaktivira\r\n\t\t\t\tnewList = newList.map(f => {\r\n\t\t\t\t\tf.inactive = (f.name == func.name) ? true : f.inactive;\r\n\t\t\t\t\treturn f;\r\n\t\t\t\t})\r\n\t\t\t\tname = func.name;\r\n\t\t\t}\r\n\r\n\t\t\tif (id != -1) {\r\n\t\t\t\tnewList[i].name = name;\r\n\t\t\t\tnewList[i].inactive = false;\r\n\r\n\t\t\t\tchangeList({ ...list, list: newList });\r\n\t\t\t} else {\r\n\t\t\t\tif (name != undefined) { // Seznam funkcij se posodobi le, ce je bila dodana funkcija, ne parameter\r\n\t\t\t\t\tnewList = [{ id: list.idNew, text, name: name, inactive: false }, ...newList];\r\n\t\t\t\t} \r\n\t\t\t\tchangeList({\r\n\t\t\t\t\tlist: newList, idNew: list.idNew + 1, textNew: \"\"\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tonInput('functionChanged', { name, list: { ...list, list: newList } });\r\n\t\t}\r\n\r\n\t\tif (target) {\r\n\t\t\ttarget.blur();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className={styles.functionList}>\r\n\t\t\t\t<div className={`${styles.functionListItem} ${styles.functionListItemNew}`} >\r\n\t\t\t\t\t<input placeholder=\"f(x) = new function\" type=\"text\" name=\"newFunc\" onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur}\r\n\t\t\t\t\t\tvalue={list.textNew} ></input>\r\n\t\t\t\t</div>\r\n\t\t\t\t{\r\n\t\t\t\t\tlist.list.map(func => (\r\n\t\t\t\t\t\t<div key={func.id} className={`${styles.functionListItem} ${func.error && styles.functionListItemError} ${func.inactive && styles.functionListItemInactive}`} >\r\n\t\t\t\t\t\t\t<input type=\"text\" name={func.id} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur}\r\n\t\t\t\t\t\t\t\tvalue={func.text} ></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TabFunction\r\n","import React, { useState } from 'react'\r\nimport { ChromePicker } from 'react-color';\r\n\r\nimport styles from './Sidebar.module.css'\r\nimport cpStyles from './ColorPicker.module.css'\r\n\r\n\r\n\r\n\r\n\r\nconst GridListItem = ({ grid, onInput }) => {\r\n\tlet [changeCount, setChangeCount] = useState(0);\r\n\tlet [showPicker, setShowPicker] = useState(false);\r\n\tlet [color, setColor] = useState({\r\n\t\tr: grid[1].color.r,\r\n\t\tg: grid[1].color.g,\r\n\t\tb: grid[1].color.b,\r\n\t\ta: grid[1].color.a,\r\n\t});\r\n\r\n\tconst id = grid[2]\r\n\r\n\tfunction handleChange(event) {\r\n\t\tlet name = event.target.name;\r\n\t\tlet value = event.target.value;\r\n\r\n\t\tsetChangeCount(changeCount + 1);\r\n\r\n\t\t// posodobi parametre, a ne preračuna na novo\r\n\t\tonInput('gridParamChanged', { name, value, id });\r\n\t}\r\n\r\n\tfunction handleTypeChange(type) {\r\n\t\tonInput('gridParamChanged', { name: 'gridType', value: type, id });\r\n\t\tonInput('gridParamChangedCommit', { id });\r\n\t}\r\n\r\n\tfunction handleKeyDown(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\te.target.blur();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleBlur(e) {\r\n\t\t// zahteva novo preračunanje, če je prišlo do sprememb parametrov\r\n\t\tif (changeCount > 0) {\r\n\t\t\tsetChangeCount(0);\r\n\t\t\tonInput('gridParamChangedCommit', { id });\r\n\t\t}\r\n\t}\r\n\r\n\tfunction toggleVisibility() {\r\n\t\tif (grid[4][0] == null) {\r\n\t\t\tonInput('gridToggleVisible', { id });\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tfunction toggleColorpicker() {\r\n\t\tsetShowPicker(!showPicker);\r\n\t};\r\n\tfunction closeColorpicker() {\r\n\t\tsetShowPicker(false);\r\n\t\tonInput('gridChangeColor', { id, color });\r\n\t};\r\n\tfunction changeColor(clr) {\r\n\t\tsetColor(clr.rgb);\r\n\t}\r\n\r\n\r\n\r\n\treturn (\r\n\t\t<div key={grid[2]} className={`${styles.listItem} ${grid[4][0] != null && styles.listItemError}`}>\r\n\t\t\t<div className={`${styles.gridTopMenu}`}>\r\n\t\t\t\t<div onClick={toggleVisibility} className={`${styles.gridTopMenuItem} ${styles.gridTopMenuVisibility}`}>\r\n\t\t\t\t\t<i className={grid[4][0] == null ? (grid[0].active ? `fas fa-eye` : `fas fa-eye-slash`) : `fas fa-low-vision`} ></i>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className={`${styles.gridTopMenuRight}`}>\r\n\t\t\t\t\t<div onClick={toggleColorpicker} className={`${styles.gridTopMenuItem}`}>\r\n\t\t\t\t\t\t<i className={`fas fa-palette`} ></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div onClick={() => onInput('gridCopy', { id })} className={`${styles.gridTopMenuItem}`}>\r\n\t\t\t\t\t\t<i className={`fas fa-copy`} ></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div onClick={() => onInput('gridDelete', { id })} className={`${styles.gridTopMenuItem}`}>\r\n\t\t\t\t\t\t<i className={`fas fa-trash`} ></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{showPicker ? <div className={cpStyles.popover}>\r\n\t\t\t\t\t\t<div className={cpStyles.cover} onClick={closeColorpicker} />\r\n\t\t\t\t\t\t<ChromePicker color={color} onChange={changeColor} />\r\n\t\t\t\t\t</div> : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={`${styles.formGroup}`} >\r\n\t\t\t\t<label htmlFor=\"funct\" >x &rarr;</label>\r\n\t\t\t\t<input type=\"text\" name={`funct`} value={grid[0].funct} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< f(x) >\"></input>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={styles.gridTypeSelector}>\r\n\t\t\t\t<span onClick={() => handleTypeChange('cartesian')} className={`${styles.gridTypeSelectorItem} ${grid[0].gridType === 'cartesian' && styles.gridTypeSelectorItemSelected}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className=\"fas fa-th\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span onClick={() => handleTypeChange('polar')} className={`${styles.gridTypeSelectorItem} ${grid[0].gridType === 'polar' && styles.gridTypeSelectorItemSelected}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className=\"fas fa-bullseye\"></i>\r\n\t\t\t\t</span>\r\n\t\t\t\t<span onClick={() => handleTypeChange('parametric')} className={`${styles.gridTypeSelectorItem} ${grid[0].gridType === 'parametric' && styles.gridTypeSelectorItemSelected}`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i className={`fab fa-glide-g  ${styles.flippedIcon}`} ></i>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t{grid[0].gridType !== 'parametric' ?\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className={`${styles.formGroup}`} >\r\n\t\t\t\t\t\t<label htmlFor=\"center\" >center: </label>\r\n\t\t\t\t\t\t<input type=\"text\" name={`center`} value={grid[0].center} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< 0 + 0i >\"></input>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t{grid[0].gridType === 'cartesian' ?\r\n\t\t\t\t\t\t<div className={`${styles.formGroup} ${styles.formGroupWide}`} >\r\n\t\t\t\t\t\t\t<label htmlFor=\"width\" >size: </label>\r\n\t\t\t\t\t\t\t<input type=\"text\" name={`width`} value={grid[0].width} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< w >\"></input>\r\n\t\t\t\t\t\t\t<span>&#215;</span>\r\n\t\t\t\t\t\t\t<input type=\"text\" name={`height`} value={grid[0].height} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< h >\"></input>\r\n\t\t\t\t\t\t</div> :\r\n\t\t\t\t\t\t<div className={`${styles.formGroup}`} >\r\n\t\t\t\t\t\t\t<label htmlFor=\"width\" >radius: </label>\r\n\t\t\t\t\t\t\t<input type=\"text\" name={`width`} value={grid[0].width} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< 2r >\"></input>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t<div className={`${styles.formGroup} ${styles.formGroupWide}`} >\r\n\t\t\t\t\t\t<label htmlFor=\"nLinesV\" >lines: </label>\r\n\t\t\t\t\t\t<input type=\"text\" name={`nLinesV`} value={grid[0].nLinesV} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder={grid[0].gridType === 'cartesian' ? \"< #v >\" : \"#c\"}></input>\r\n\t\t\t\t\t\t<span>&#215;</span>\r\n\t\t\t\t\t\t<input type=\"text\" name={`nLinesH`} value={grid[0].nLinesH} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder={grid[0].gridType === 'cartesian' ? \"< #h >\" : \"#r\"}></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t\t:\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className={`${styles.formGroup}`} >\r\n\t\t\t\t\t\t<label htmlFor=\"functParametric\" >x = s(t) = </label>\r\n\t\t\t\t\t\t<input type=\"text\" name={`functParametric`} value={grid[0].functParametric} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< s(t) >\"></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={`${styles.formGroup} ${styles.formGroupWide}`} >\r\n\t\t\t\t\t\t<label htmlFor=\"fromParametric\" >t range: </label>\r\n\t\t\t\t\t\t<input type=\"text\" name={`fromParametric`} value={grid[0].fromParametric} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder={grid[0].gridType === 'cartesian' ? \"< #v >\" : \"#c\"}></input>\r\n\t\t\t\t\t\t<span>-</span>\r\n\t\t\t\t\t\t<input type=\"text\" name={`toParametric`} value={grid[0].toParametric} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder={grid[0].gridType === 'cartesian' ? \"< #h >\" : \"#r\"}></input>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className={`${styles.formGroup}`} >\r\n\t\t\t\t\t\t<label htmlFor=\"stepSizeParametric\" >step size: </label>\r\n\t\t\t\t\t\t<input type=\"text\" name={`stepSizeParametric`} value={grid[0].stepSizeParametric} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< 0.01 >\"></input>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t</>}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default GridListItem\r\n","import React from 'react'\r\n\r\nimport GridListItem from './GridListItem';\r\nimport styles from './Sidebar.module.css'\r\n\r\nconst TabGrid = ({ onInput, gridParams }) => {\r\n\r\n\tfunction handleNew(e) {\r\n\t\tonInput('gridNew');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.gridList}>\r\n\t\t\t\t<div onClick={handleNew} className={`${styles.newButton}`}>\r\n\t\t\t\t\t<i className={`fas fa-plus`} ></i>\r\n\t\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tgridParams.grids.map(grid => (\r\n\t\t\t\t\t<GridListItem key={grid[2]} onInput={onInput} grid={grid} />\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TabGrid\r\n","import React, { useState } from 'react'\r\n\r\nimport { m } from '../utils/math';\r\nimport styles from './Sidebar.module.css'\r\n\r\n\r\nconst SliderListItem = ({ onInput, slider, scope }) => {\r\n\tlet [changeCount, setChangeCount] = useState(0);\r\n\tlet [error, setError] = useState(!checkValidName(slider.name));\r\n\tconst id = slider.id;\r\n\r\n\tfunction handleKeyDown(e) {\r\n\t\tif (e.key === 'Enter') {\r\n\t\t\te.target.blur();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleBlur(e) {\r\n\t\t// zahteva novo preračunanje, če je prišlo do sprememb parametrov\r\n\t\tif (changeCount > 0) {\r\n\t\t\tsetChangeCount(0);\r\n\t\t\tif (e.target.name === 'name') {\r\n\t\t\t\tif (checkValidName(e.target.value)){\r\n\t\t\t\t\tsetError(false);\r\n\t\t\t\t\tonInput('sliderChangeCommit', { id, sliderName:slider.name, sliderValue:slider.value });\r\n\t\t\t\t}else {\r\n\t\t\t\t\tsetError(true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tonInput('sliderChangeCommit', { id,  sliderName:slider.name, sliderValue:slider.value });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleChange(e) {\r\n\t\tlet name = e.target.name;\r\n\t\tlet value = e.target.value;\r\n\t\tif (name === 'name' || name === 'value')\r\n\t\t\tsetChangeCount(changeCount + 1);\r\n\r\n\t\t// posodobi parametre, a ne preračuna na novo\r\n\t\tonInput('sliderChanged', { name, value, id });\r\n\t}\r\n\r\n\tfunction handleSliderChange(e) {\r\n\t\tlet value = e.target.value;\r\n\t\tif (!error) {\r\n\t\t\tonInput('sliderChanged', { name:'value', value, id });\r\n\t\t\tonInput('sliderChangeCommit', { id, sliderName:slider.name, sliderValue:Number(value) });\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getParam(p) {\r\n\r\n\t\tlet value;\r\n\t\ttry {\r\n\t\t\tvalue = m.evaluate(slider[p], {...scope});\r\n\t\t} catch (err) {\r\n\t\t\tconsole.error(p, err.name);\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={`${styles.listItem} ${error && styles.listItemError}`}>\r\n\t\t\t<div className={`${styles.formGroup} ${styles.sliderHead}`} >\r\n\t\t\t\t<input type=\"text\" name={`name`} value={slider.name} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< a >\"></input>\r\n\t\t\t\t<label htmlFor=\"value\" >=</label>\r\n\t\t\t\t<input type=\"text\" name={`value`} value={slider.value} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< 0 >\"></input>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div className={styles.sliderContainer}>\r\n\t\t\t<input type=\"text\" name={`left`} value={slider.left} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder='< from >'></input>\r\n\t\t\t\t<input onChange={handleSliderChange} name='value' type=\"range\" min={getParam('left')} max={getParam('right')} value={getParam('value')} step={getParam('stepSize')} className={styles.slider}></input>\r\n\t\t\t\t<input type=\"text\" name={`right`} value={slider.right} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=' < to >'></input>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={`${styles.formGroup}`} >\r\n\t\t\t\t<label htmlFor=\"stepSize\" >step size: </label>\r\n\t\t\t\t<input type=\"text\" name={`stepSize`} value={slider.stepSize} onChange={handleChange} onKeyDown={handleKeyDown} onBlur={handleBlur} placeholder=\"< 0.1 >\"></input>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default SliderListItem\r\n\r\n\r\nfunction checkValidName(name) {\r\n\tconst regex =/^[^a-zA-Z_$]|[^0-9a-zA-Z_$]/g;\r\n\treturn !regex.test(name)  && name.length > 0;\r\n}\r\n","import React from 'react'\r\n\r\nimport SliderListItem from './SliderListItem';\r\nimport styles from './Sidebar.module.css'\r\n\r\nconst TabParams = ({ onInput, sliders }) => {\r\n\r\n\tfunction handleNew(e) {\r\n\t\tonInput('sliderNew');\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={styles.gridList}>\r\n\t\t\t\t<div onClick={handleNew} className={`${styles.newButton}`}>\r\n\t\t\t\t\t<i className={`fas fa-plus`} ></i>\r\n\t\t\t\t</div>\r\n\t\t\t{\r\n\t\t\t\tsliders.list.map(slider => (\r\n\t\t\t\t\t<SliderListItem key={slider.id} onInput={onInput} slider={slider} />\r\n\t\t\t\t))\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TabParams\r\n","import React, {useState} from 'react'\r\n\r\nimport TabView from './TabView'\r\nimport TabFunction from './TabFunction'\r\nimport TabGrid from './TabGrid'\r\nimport TabParams from './TabParams'\r\n\r\nimport styles from './Sidebar.module.css'\r\n\r\nconst Sidebar = ({onInput, config}) => {\r\n\tconst [selectedTab, setSelectedTab] = useState(1);\r\n\t\r\n\treturn (\r\n\t\t<div className={styles.sidebar}>\r\n\t\t\t<div className={styles.menu}>\r\n\t\t\t\t<div className={styles.menuContainer}>\r\n\t\t\t\t\t<div onClick={() => setSelectedTab(0)} \r\n\t\t\t\t\tclassName={`${styles.menuItem} ${selectedTab===0 && styles.menuItemSelected}`}>\r\n\t\t\t\t\t\t<i className=\"fas fa-eye\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div onClick={() => setSelectedTab(1)} \r\n\t\t\t\t\tclassName={`${styles.menuItem} ${selectedTab===1 && styles.menuItemSelected}`}>\r\n\t\t\t\t\t\t<i className=\"fas fa-square-root-alt\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div onClick={() => setSelectedTab(2)} \r\n\t\t\t\t\tclassName={`${styles.menuItem} ${selectedTab===2 && styles.menuItemSelected}`}>\r\n\t\t\t\t\t\t<i className=\"fas fa-border-all\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div onClick={() => setSelectedTab(3)} \r\n\t\t\t\t\tclassName={`${styles.menuItem} ${selectedTab===3 && styles.menuItemSelected}`}>\r\n\t\t\t\t\t\t<i className=\"fas fa-sliders-h\"></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles.content}>\r\n\t\t\t\t{selectedTab===0 && <TabView onInput={onInput} mode={config.mode} component3={config.component3} />}\r\n\t\t\t\t{selectedTab===1 && <TabFunction fList={config.fList} scope={config.scope} onInput={onInput}/>}\r\n\t\t\t\t{selectedTab===2 && <TabGrid onInput={onInput} gridParams={config.gridParams} />}\r\n\t\t\t\t{selectedTab===3 && <TabParams onInput={onInput} sliders={config.sliders} scope={config.scope} />}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Sidebar\r\n","import React, { useState, useEffect } from 'react';\r\nimport styles from './App.module.css';\r\n\r\nimport { m } from './utils/math';\r\nimport Scene from './utils/Scene';\r\n\r\nimport Graf from './components/Graf.jsx';\r\nimport Sidebar from './components/Sidebar.jsx'\r\n\r\n\r\nconst scopeInit = {};\r\nm.evaluate(\"f(x) = sin(x)\", scopeInit);\r\nm.evaluate(\"a=0\", scopeInit);\r\n\r\nconst newGridTemplate = [\r\n  {\r\n    active: true,\r\n    gridType: 'cartesian',\r\n\r\n    funct: '',\r\n    center: \"0 + 0i\",\r\n    angle: 0,\r\n    psPerLine: 200,\r\n\r\n    width: \"4\",\r\n    height: '=',\r\n    nLinesV: 5,\r\n    nLinesH: '=',\r\n\r\n    stepSizeParametric: 0.01,\r\n    functParametric: '',\r\n    fromParametric: -1,\r\n    toParametric: 1,\r\n  },\r\n  {\r\n    color: {\r\n      v: 'rgba(70, 50, 140, 1)',\r\n      h: 'rgba(40, 130, 175, 1)',\r\n      opacity: 1,\r\n      width: 2,\r\n      r: 70,\r\n      g: 50,\r\n      b: 140,\r\n    },\r\n    component3: {\r\n      zAxis: 'auto',\r\n      color: 'auto'\r\n    }\r\n  }\r\n]\r\n\r\n\r\nfunction App() {\r\n  // Seznam vseh funkcij (v text obliki, dejanske funkcije shranjene v scope)\r\n  let [fList, setFList] = useState({ list: [{ text: \"f(x) = sin(x)\", id: 0, name: 'f' }], idNew: 1 });\r\n  let [scope] = useState(scopeInit);\r\n  let [sliders, setSliders] = useState({\r\n    list: [\r\n      { id: 0, name: 'a', value: 0, left: -1, right: 1, stepSize: 0.01 }],\r\n    nextId: 1\r\n  });\r\n  let [lastSliderChangeRev, setLastSliderChangeRev] = useState([0]);\r\n\r\n  // Seznam vseh parametrov mrež\r\n  let [gridParams, setGridParams] = useState({\r\n    grids: [[\r\n      {\r\n        active: true,\r\n        gridType: 'cartesian',\r\n\r\n        funct: 'f(x)',\r\n        center: \"0\",\r\n        angle: 0,\r\n        psPerLine: 200,\r\n\r\n        width: \"5\",\r\n        height: '=',\r\n        nLinesV: 11,\r\n        nLinesH: '=',\r\n\r\n        stepSizeParametric: 0.01,\r\n        functParametric: '',\r\n        fromParametric: -1,\r\n        toParametric: 1,\r\n      },\r\n      {\r\n        color: {\r\n          v: 'rgba(70, 50, 140, 1)',\r\n          h: 'rgba(40, 130, 175, 1)',\r\n          opacity: 1,\r\n          width: 2,\r\n          r: 70,\r\n          g: 50,\r\n          b: 140,\r\n        },\r\n        component3: {\r\n          zAxis: 'auto',\r\n          color: 'auto',\r\n        }\r\n      }, 0, 0, []], // id, revision(ni v uporabi), errors\r\n    ],\r\n\r\n    nextId: 1,\r\n    revision: 0,\r\n    component3: { zAxis: 're', color: 'auto' }\r\n  });\r\n  // Scene object (dejanske mreže, skrbi za računanje točk)\r\n  let [scene] = useState(\r\n    new Scene()\r\n  );\r\n\r\n  let [mode, setMode] = useState('2d');\r\n  let [component3, setComponent3] = useState({\r\n    zAxis: 're', color: 'auto', hybrid: false,\r\n    colorscale: 'RdBu', \r\n    base: 'f', baseIdZ: 5\r\n  });\r\n\r\n  let [revision, setRevision] = useState(0)\r\n  let [rev2] = useState(0)\r\n\r\n\r\n\r\n\r\n  // Preračunavanje vseh točk\r\n  useEffect(() => {\r\n    scene.refresh(gridParams, { ...scope }, component3);\r\n    scene.recalculate()\r\n    scene.redraw(mode);\r\n    setRevision(revision + 1);\r\n  }, [rev2]);\r\n\r\n\r\n\r\n  function onInput(action, content) {\r\n    switch (action) {\r\n      case '2d3d': { // prestavljanje med 2d in 3d\r\n        if (content == '2d') {\r\n          scene.redraw('2d');\r\n          setMode('2d')\r\n        } else if (content == '3d') {\r\n          scene.redraw('3d');\r\n          setMode('3d')\r\n        }\r\n\r\n        break;\r\n      }\r\n\r\n      case 'component3': { // z os in barva v 3d\r\n        let newComp3 = { ...component3 };\r\n        newComp3[content.which] = content.option;\r\n        setComponent3(newComp3);\r\n\r\n        scene.refresh(gridParams, { ...scope }, newComp3);\r\n        scene.redraw(mode);\r\n\r\n        break;\r\n      }\r\n\r\n      case 'functionChanged': { // spreminjanje funkcije\r\n        setFList(content.list);\r\n\r\n        scene.refresh(gridParams, { ...scope }, component3);\r\n        scene.recalculate()\r\n        scene.redraw(mode);\r\n\r\n        break;\r\n      }\r\n\r\n      case 'gridParamChanged': { // spreminjanje parametrov mrež ob tipkanju\r\n        let index = gridParams.grids.findIndex(g => g[2] == content.id);\r\n        gridParams.grids[index][0][content.name] = content.value;\r\n        setGridParams(gridParams);\r\n\r\n        break;\r\n      }\r\n\r\n      case 'gridParamChangedCommit': { // preračunavanje mreže z novimi parametri\r\n        scene.refresh(gridParams, { ...scope }, component3);\r\n        scene.recalculateSpecific(content.id);\r\n        scene.redraw(mode);\r\n\r\n        break;\r\n      }\r\n\r\n\r\n      case 'gridNew': {\r\n        let newId = gridParams.nextId;\r\n        let newGrid = [{ ...newGridTemplate[0] }, { ...newGridTemplate[1] }, newId, 0, []];\r\n        gridParams.nextId++;\r\n        gridParams.grids = [newGrid, ...gridParams.grids];\r\n        setGridParams(gridParams);\r\n        scene.refresh(gridParams, { ...scope }, component3);\r\n        scene.recalculateSpecific(newId);\r\n        scene.redraw(mode);\r\n\r\n        break;\r\n      }\r\n\r\n      case 'gridToggleVisible': { // Dodatne opcije pri mrežah\r\n        let index = gridParams.grids.findIndex(g => g[2] == content.id);\r\n        gridParams.grids[index][0].active = !gridParams.grids[index][0].active;\r\n        setGridParams(gridParams);\r\n        scene.refresh(gridParams, { ...scope }, component3);\r\n        scene.recalculateSpecific(content.id);\r\n        scene.redraw(mode);\r\n\r\n        break;\r\n      }\r\n      case 'gridChangeColor': {\r\n        let index = gridParams.grids.findIndex(g => g[2] == content.id);\r\n        gridParams.grids[index][1].color = {\r\n          ...gridParams.grids[index][1].color,\r\n          ...content.color\r\n        };\r\n        setGridParams(gridParams);\r\n        scene.refresh(gridParams, { ...scope }, component3);\r\n        scene.redraw(mode);\r\n\r\n        break;\r\n      }\r\n      case 'gridDelete': {\r\n        gridParams.grids = gridParams.grids.filter(g => g[2] != content.id);\r\n        setGridParams(gridParams);\r\n        scene.delete(content.id);\r\n        scene.refresh(gridParams, { ...scope }, component3);\r\n        scene.redraw(mode);\r\n\r\n        break;\r\n      }\r\n      case 'gridCopy': {\r\n        let index = gridParams.grids.findIndex(g => g[2] == content.id);\r\n\r\n        let newId = gridParams.nextId;\r\n        let newGrid = [{ ...gridParams.grids[index][0] }, { ...gridParams.grids[index][1] }, newId, gridParams.grids[index][3], []];\r\n        gridParams.nextId++;\r\n        gridParams.grids = [\r\n          ...gridParams.grids.slice(0, index),\r\n          newGrid,\r\n          ...gridParams.grids.slice(index)\r\n        ];\r\n        console.log(newId, index, gridParams.grids);\r\n        setGridParams(gridParams);\r\n        scene.refresh(gridParams, { ...scope }, component3);\r\n        scene.recalculateSpecific(newId);\r\n        scene.redraw(mode);\r\n\r\n        break;\r\n      }\r\n\r\n      case 'sliderNew': {\r\n        let newId = sliders.nextId;\r\n        let newSlider = { id: newId, name: '', value: 0, left: -1, right: 1, stepSize: 0.01 };\r\n        sliders.nextId++;\r\n        sliders.list = [newSlider, ...sliders.list];\r\n        setSliders(sliders);\r\n\r\n        break;\r\n      }\r\n      case 'sliderChanged': {\r\n        let index = sliders.list.findIndex(slider => slider.id == content.id);\r\n        sliders.list[index][content.name] = content.value;\r\n        setSliders(sliders);\r\n\r\n        break;\r\n      }\r\n      case 'sliderChangeCommit': {\r\n        lastSliderChangeRev[0] = revision;\r\n        setLastSliderChangeRev(lastSliderChangeRev);\r\n        let curRev = revision;\r\n        \r\n        try {\r\n          scope[content.sliderName] = m.evaluate(content.sliderValue, scope);\r\n        } catch (err) {\r\n          console.log(err.name);\r\n          return;\r\n        }\r\n        setTimeout(() => {\r\n          if (lastSliderChangeRev[0] === curRev) {\r\n            scene.refresh(gridParams, { ...scope }, component3);\r\n            scene.recalculate();\r\n            scene.redraw(mode);\r\n            setRevision(rev => rev + 1);\r\n          }\r\n        }, 0);\r\n\r\n        break;\r\n      }\r\n    }\r\n\r\n    setRevision(rev => rev + 1);\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className={styles.App}>\r\n      <Graf scene={scene} mode={mode} revision={revision} />\r\n      <Sidebar onInput={onInput} config={{ sliders, mode, gridParams, component3, fList, scope }} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__163x2\",\"menu\":\"Sidebar_menu__Ykloj\",\"menuContainer\":\"Sidebar_menuContainer__z5F1Y\",\"menuItem\":\"Sidebar_menuItem__2OGBp\",\"menuItemSelected\":\"Sidebar_menuItemSelected__2q-JR\",\"content\":\"Sidebar_content__1AWiR\",\"inivisible\":\"Sidebar_inivisible__5IpNc\",\"dimensionsSelector\":\"Sidebar_dimensionsSelector__1pbeq\",\"dimensionsSelectorItem\":\"Sidebar_dimensionsSelectorItem__1Gegc\",\"dimensionsSelectorItemSelected\":\"Sidebar_dimensionsSelectorItemSelected__1UcpJ\",\"viewOptions\":\"Sidebar_viewOptions__3etVP\",\"formGroup\":\"Sidebar_formGroup__3Jkbh\",\"functionListItem\":\"Sidebar_functionListItem__r4cKE\",\"functionListItemNew\":\"Sidebar_functionListItemNew__394VC\",\"functionListItemError\":\"Sidebar_functionListItemError__EjtX_\",\"functionListItemInactive\":\"Sidebar_functionListItemInactive__3htQA\",\"newButton\":\"Sidebar_newButton__16pnY\",\"gridList\":\"Sidebar_gridList__AAdz9\",\"formGroupWide\":\"Sidebar_formGroupWide__2lZlv\",\"gridTopMenu\":\"Sidebar_gridTopMenu__OWWpy\",\"gridTopMenuRight\":\"Sidebar_gridTopMenuRight__18g-q\",\"gridTopMenuItem\":\"Sidebar_gridTopMenuItem__1yY0e\",\"gridTypeSelector\":\"Sidebar_gridTypeSelector__2n1lu\",\"gridTypeSelectorItem\":\"Sidebar_gridTypeSelectorItem__18GiW\",\"gridTypeSelectorItemSelected\":\"Sidebar_gridTypeSelectorItemSelected__1YHhB\",\"flippedIcon\":\"Sidebar_flippedIcon__2GoJp\",\"listItem\":\"Sidebar_listItem__2z9_9\",\"listItemError\":\"Sidebar_listItemError__2ZnOu\",\"sliderHead\":\"Sidebar_sliderHead__zMxR-\",\"sliderContainer\":\"Sidebar_sliderContainer__24Nr6\",\"slider\":\"Sidebar_slider__e6Hfp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"popover\":\"ColorPicker_popover__SIov_\",\"cover\":\"ColorPicker_cover__1MKOn\"};"],"sourceRoot":""}